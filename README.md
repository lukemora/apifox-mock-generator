# Apifox Mock Generator

[![npm version](https://img.shields.io/npm/v/apifox-mock-generator.svg)](https://www.npmjs.com/package/apifox-mock-generator)

ä» Apifox æ‹‰å– API æ¥å£å¹¶ç”Ÿæˆæœ¬åœ° Mock æ•°æ®å’Œ TypeScript ç±»å‹æ–‡ä»¶çš„ npm åŒ…ã€‚

## ğŸŒŸ ä¸ºä»€ä¹ˆé€‰æ‹©è¿™ä¸ªå·¥å…·ï¼Ÿ

- âš¡ **é›¶é…ç½®è·¯ç”±** - è‡ªåŠ¨å‘ç°å’ŒåŠ è½½ Mock è·¯ç”±ï¼Œæ— éœ€æ‰‹åŠ¨æ³¨å†Œ
- ğŸ”¥ **å³æ—¶ç”Ÿæ•ˆ** - çƒ­é‡è½½æ”¯æŒï¼Œä¿®æ”¹ Mock æ•°æ®ç«‹å³ç”Ÿæ•ˆ
- ğŸ¯ **ç²¾å‡†æ§åˆ¶** - å¼ºå¤§çš„ API ç­›é€‰åŠŸèƒ½ï¼ŒæœåŠ¡ç«¯ + å®¢æˆ·ç«¯åŒé‡è¿‡æ»¤
- ğŸ“ **ç±»å‹å®‰å…¨** - è‡ªåŠ¨ç”Ÿæˆ TypeScript ç±»å‹ï¼Œå¼€å‘æ›´é«˜æ•ˆ
- ğŸ¨ **ä»£ç è´¨é‡** - è‡ªåŠ¨æ ¼å¼åŒ–ï¼Œç”Ÿæˆçš„ä»£ç ç¬¦åˆæœ€ä½³å®è·µ
- ğŸ“¦ **å¼€ç®±å³ç”¨** - ä½œä¸º npm åŒ…å®‰è£…ï¼Œé›†æˆç®€å•

## âœ¨ åŠŸèƒ½ç‰¹æ€§

### æ ¸å¿ƒåŠŸèƒ½

- ğŸš€ **Apifox é›†æˆ** - è‡ªåŠ¨ä» Apifox é¡¹ç›®æ‹‰å– API æ¥å£å®šä¹‰ï¼ˆæ”¯æŒ OpenAPI 3.0ï¼‰
- ğŸ“ **ç±»å‹ç”Ÿæˆ** - ç”Ÿæˆ TypeScript ç±»å‹æ–‡ä»¶ï¼ˆ.ts æ ¼å¼ï¼‰ï¼Œæ”¯æŒå¤æ‚ç±»å‹ã€åµŒå¥—å¯¹è±¡ã€æšä¸¾ç­‰
- ğŸ­ **Apifox Mock** - **âœ¨ ç›´æ¥ä½¿ç”¨ Apifox çš„ mock è§„åˆ™**ï¼Œæ— éœ€æœ¬åœ°é…ç½®ï¼Œå®Œå…¨ç»§æ‰¿ Apifox çš„æ•°æ®ç”Ÿæˆèƒ½åŠ›
- ğŸŒ **Mock æœåŠ¡å™¨** - åŸºäº Express çš„æœ¬åœ° Mock æœåŠ¡ï¼Œå¿«é€Ÿå“åº”ï¼Œæ”¯æŒ CORS

### é«˜çº§ç‰¹æ€§

- ğŸ”¥ **çƒ­é‡è½½** - ä¿®æ”¹ Mock æ–‡ä»¶è‡ªåŠ¨ç”Ÿæ•ˆï¼Œæ— éœ€é‡å¯æœåŠ¡å™¨
- ğŸ¯ **API ç­›é€‰** - æ”¯æŒè·¯å¾„ã€æ–¹æ³•ã€æ ‡ç­¾ã€æ“ä½œ ID ç­‰å¤šç»´åº¦ç­›é€‰
- âš¡ **å¢é‡æ›´æ–°** - æ™ºèƒ½è¯†åˆ«æ–‡ä»¶å˜åŒ–ï¼Œä»…æ›´æ–°å¿…è¦å†…å®¹
- ğŸ¨ **ä»£ç æ ¼å¼åŒ–** - ä½¿ç”¨ Prettier è‡ªåŠ¨æ ¼å¼åŒ–ç”Ÿæˆçš„ä»£ç 
- ğŸ”„ **åŠ¨æ€è·¯ç”±** - è‡ªåŠ¨å‘ç°å’ŒåŠ è½½ Mock è·¯ç”±ï¼Œé›¶é…ç½®
- âœ… **æ™ºèƒ½å‚æ•°æ ¡éªŒ** - æ ¹æ®å‚æ•°æ¥æºï¼ˆquery/bodyï¼‰è¿›è¡Œå·®å¼‚åŒ–æ ¡éªŒï¼Œç¬¦åˆHTTPåè®®æ ‡å‡†

## ğŸ“¦ å®‰è£…

åœ¨ä½ çš„ Vue/React/ä»»æ„å‰ç«¯é¡¹ç›®ä¸­å®‰è£…ï¼š

```bash
pnpm add apifox-mock-generator -D
```

## ğŸš€ å¿«é€Ÿå¼€å§‹

### å‰ç½®æ¡ä»¶

åœ¨å¼€å§‹ä½¿ç”¨ä¹‹å‰ï¼Œè¯·ç¡®ä¿æ»¡è¶³ä»¥ä¸‹æ¡ä»¶ï¼š

- âœ… **Node.js 16+** - ç¡®ä¿å·²å®‰è£… Node.js 16 æˆ–æ›´é«˜ç‰ˆæœ¬
- âœ… **é¡¹ç›®ç¼–è¯‘** - è¿è¡Œ `npm run build` ç¼–è¯‘ TypeScript ä»£ç 
- âœ… **Apifox é…ç½®** - åˆ›å»º `apifox.config.json` é…ç½®æ–‡ä»¶ï¼ˆç”¨äº API æ–‡æ¡£åŒæ­¥å’Œ Mock æ•°æ®ç”Ÿæˆï¼‰
- âœ… **Mock é…ç½®** - åˆ›å»º `mock.config.js` é…ç½®æ–‡ä»¶ï¼ˆç”¨äº Mock æœåŠ¡å™¨è¿è¡Œæ—¶é…ç½®ï¼‰
- âœ… **Mock æ–‡ä»¶ç”Ÿæˆ** - è¿è¡Œ `npm run generate` ç”Ÿæˆ Mock æ–‡ä»¶

### 1. åˆ›å»ºé…ç½®æ–‡ä»¶

**åˆ›å»º Apifox é…ç½®æ–‡ä»¶** - ç”¨äº API æ–‡æ¡£åŒæ­¥å’Œ Mock æ•°æ®ç”Ÿæˆï¼š

åœ¨ä½ çš„é¡¹ç›®æ ¹ç›®å½•åˆ›å»º `apifox.config.json`ï¼š

```json
{
  "projectId": "7219799",
  "token": "APS-XQrLSqLE4q0FOb0bGhaqYvTxSUQQFPeO",
  "mockDir": "./mock",
  "typesDir": "./src/types/mock",
  "apiFilter": {
    "scope": {
      "type": "ALL",
      "excludedByTags": ["è®¾è®¡ä¸­", "å·²åºŸå¼ƒ"],
      "folderPaths": []
    },
    "includePaths": [],
    "excludePaths": [],
    "includeMethods": []
  }
}
```

**åˆ›å»º Mock æœåŠ¡å™¨é…ç½®æ–‡ä»¶** - ç”¨äºæ§åˆ¶ Mock æœåŠ¡å™¨è¿è¡Œæ—¶è¡Œä¸ºï¼š

åˆ›å»º `mock.config.js`ï¼š

```javascript
export default {
  model: 'mock',
  https: false,
  port: 10000,
  target: 'http://localhost:8080',
  remoteTarget: true,
  handleMapPath(req) {
    const url = req.req.url.slice(1);
    const splitUrl = url.split('/');
    const fileName = splitUrl[splitUrl.length - 1].split('?')[0];
    const relativePath = splitUrl.splice(0, splitUrl.length - 1).join('/');
    return {
      relativePath,
      fileName
    };
  }
};
```

### 2. é…ç½® package.json è„šæœ¬

```json
{
  "scripts": {
    "auto-mock": "apifox-mock generate",
    "mock": "apifox-mock serve",
    "mock:dev": "apifox-mock dev"
  }
}
```

### 3. ç”Ÿæˆ Mock å’Œç±»å‹æ–‡ä»¶

```bash
pnpm auto-mock
```

### 4. å¯åŠ¨ Mock æœåŠ¡å™¨

```bash
pnpm mock
```

> âš ï¸ **æ‰§è¡Œå‰ææ¡ä»¶**ï¼š
>
> - å¿…é¡»å…ˆè¿è¡Œ `npm run generate` ç”Ÿæˆ Mock æ–‡ä»¶
> - ç¡®ä¿ `apifox.config.json` é…ç½®æ–‡ä»¶å­˜åœ¨ä¸”é…ç½®æ­£ç¡®
> - ç¡®ä¿ `mock/` å¯¹åº”é¡¹ç›®æ ¹ç›®å½•å­˜åœ¨ä¸”åŒ…å«æœ‰æ•ˆçš„ Mock æ–‡ä»¶

### 5. é…ç½®ä»£ç†ï¼ˆVite é¡¹ç›®ï¼‰

åœ¨ `vite.config.ts` ä¸­ï¼š

```typescript
export default defineConfig({
  server: {
    proxy: {
      '/api': {
        target: 'http://localhost:10000', // æŒ‡å‘ Mock æœåŠ¡å™¨ç«¯å£
        changeOrigin: true,
        rewrite: path => path.replace(/^\/api/, '')
      }
    }
  }
});
```

### 6. ä½¿ç”¨ç”Ÿæˆçš„ç±»å‹

```typescript
import type { LoginRequest, LoginResponse } from './src/types/api/auth/login';

const login = async (data: LoginRequest): Promise<LoginResponse> => {
  const response = await fetch('/api/auth/login', {
    method: 'POST',
    body: JSON.stringify(data)
  });
  return response.json();
};
```

## ğŸ”§ é…ç½®è¯´æ˜

æœ¬é¡¹ç›®ä½¿ç”¨ä¸¤ä¸ªé…ç½®æ–‡ä»¶æ¥ç®¡ç†ä¸åŒçš„åŠŸèƒ½ï¼š

### ğŸ“‹ é…ç½®æ–‡ä»¶ä½œç”¨

**1. `apifox.config.json`** - API æ–‡æ¡£åŒæ­¥é…ç½®

- **ä½œç”¨**ï¼šé…ç½® Apifox é¡¹ç›®ä¿¡æ¯å’Œç”Ÿæˆè·¯å¾„
- **åŠŸèƒ½**ï¼šè´Ÿè´£ä» Apifox åŒæ­¥ API æ–‡æ¡£ï¼Œç”Ÿæˆ Mock æ•°æ®å’Œ TypeScript ç±»å‹å®šä¹‰
- **ä½¿ç”¨æ—¶æœº**ï¼šè¿è¡Œ `npm run generate` æ—¶ä½¿ç”¨

**2. `mock.config.js`** - Mock æœåŠ¡å™¨è¿è¡Œæ—¶é…ç½®

- **ä½œç”¨**ï¼šé…ç½® Mock æœåŠ¡å™¨çš„è¿è¡Œæ—¶è¡Œä¸º
- **åŠŸèƒ½**ï¼šæ§åˆ¶æœåŠ¡å™¨ç«¯å£ã€å·¥ä½œæ¨¡å¼ã€ä»£ç†ç›®æ ‡ç­‰
- **ä½¿ç”¨æ—¶æœº**ï¼šè¿è¡Œ `npm run mock` æ—¶ä½¿ç”¨

### åŸºç¡€é…ç½®

- `projectId`: Apifox é¡¹ç›® IDï¼ˆåœ¨é¡¹ç›®è®¾ç½®ä¸­æŸ¥çœ‹ï¼‰
- `token`: Apifox API Tokenï¼ˆåœ¨è´¦å·è®¾ç½®ä¸­ç”Ÿæˆï¼‰
- `mockDir`: Mock æ–‡ä»¶ç”Ÿæˆç›®å½•ï¼ˆé»˜è®¤ï¼š`./mock`ï¼‰
- `typesDir`: TypeScript ç±»å‹æ–‡ä»¶ç”Ÿæˆç›®å½•ï¼ˆé»˜è®¤ï¼š`./src/types/api`ï¼‰
- `apiFilter`: API ç­›é€‰é…ç½®ï¼ˆå¯é€‰ï¼‰

### âš ï¸ é‡è¦é…ç½®è¯´æ˜

#### 1. Prettier å¿½ç•¥é…ç½®

**éœ€è¦å°† `mock` æ–‡ä»¶å¤¹æ·»åŠ åˆ° `.prettierrc` çš„å¿½ç•¥æ–‡ä»¶ä¸­**ï¼Œä¸»è¦åŸå› æ˜¯æ ¼å¼åŒ–æ–‡ä»¶ä¼šå½±å“ Mock.js è¯­æ³•ã€‚

åœ¨é¡¹ç›®æ ¹ç›®å½•åˆ›å»ºæˆ–æ›´æ–° `.prettierignore` æ–‡ä»¶ï¼š

```bash
# .prettierignore
mock/
```

æˆ–è€…åœ¨ `.prettierrc.json` ä¸­æ·»åŠ å¿½ç•¥é…ç½®ï¼š

```json
{
  "ignorePath": ".prettierignore"
}
```

#### 2. Mock ç›®å½•é…ç½®

**âš ï¸ é‡è¦ï¼š`"mockDir": "./mock"` ä¸è¦æ›´æ”¹**ï¼Œå› ä¸º Mock æœåŠ¡ä¼šå»é¡¹ç›®ç›®å½•ä¸‹æŸ¥æ‰¾ `mock` æ–‡ä»¶ã€‚

- Mock æœåŠ¡å™¨å¯åŠ¨æ—¶ä¼šè‡ªåŠ¨æ‰«æé¡¹ç›®æ ¹ç›®å½•ä¸‹çš„ `mock/` æ–‡ä»¶å¤¹
- å¦‚æœä¿®æ”¹äº† `mockDir` è·¯å¾„ï¼Œå¯èƒ½å¯¼è‡´ Mock æœåŠ¡æ— æ³•æ­£ç¡®åŠ è½½æ•°æ®
- å»ºè®®ä¿æŒé»˜è®¤é…ç½®ï¼š`"mockDir": "./mock"`

### API ç­›é€‰é…ç½®

é€šè¿‡ `apiFilter` é…ç½®é¡¹ï¼Œæ‚¨å¯ä»¥ç²¾ç¡®æ§åˆ¶éœ€è¦å¯¼å‡ºå’Œç”Ÿæˆçš„ API æ¥å£ã€‚æ”¯æŒ**æœåŠ¡ç«¯è¿‡æ»¤**ï¼ˆApifox APIï¼‰å’Œ**å®¢æˆ·ç«¯è¿‡æ»¤**ï¼ˆç”Ÿæˆæ—¶ï¼‰ã€‚

#### å®Œæ•´é…ç½®ç¤ºä¾‹

```json
{
  "projectId": "YOUR_PROJECT_ID",
  "token": "YOUR_APIFOX_TOKEN",
  "outputDir": "./apifox-output",
  "mockDir": "./generated/mock",
  "typesDir": "./generated/types",
  "apiFilter": {
    "scope": {
      "type": "ALL",
      "excludedByTags": ["è®¾è®¡ä¸­", "å·²åºŸå¼ƒ"]
    },
    "includePaths": ["/api/auth/**", "/api/user/**"],
    "excludePaths": ["/api/admin/**"],
    "includeMethods": ["GET", "POST"]
  }
}
```

#### æœåŠ¡ç«¯è¿‡æ»¤ï¼ˆApifox APIï¼‰

**`scope` é…ç½®** - æ§åˆ¶ä» Apifox å¯¼å‡ºå“ªäº›æ¥å£ï¼š

| å‚æ•°             | ç±»å‹                         | è¯´æ˜                                                      |
| ---------------- | ---------------------------- | --------------------------------------------------------- |
| `type`           | `'ALL' \| 'FOLDER' \| 'TAG'` | å¯¼å‡ºç±»å‹ï¼šå…¨éƒ¨/æŒ‰æ–‡ä»¶å¤¹/æŒ‰æ ‡ç­¾                            |
| `includedByTags` | `string[]`                   | åŒ…å«çš„æ ‡ç­¾                                                |
| `excludedByTags` | `string[]`                   | æ’é™¤çš„æ¥å£çŠ¶æ€ï¼ˆæ”¯æŒä¸­æ–‡ï¼š`è®¾è®¡ä¸­`ã€`å·²åºŸå¼ƒ`ã€`å¾…å®š` ç­‰ï¼‰ |
| `folderPaths`    | `string[]`                   | æ–‡ä»¶å¤¹è·¯å¾„åˆ—è¡¨ï¼ˆæ”¯æŒå¤šä¸ªä¸­æ–‡æ–‡ä»¶å¤¹åç§°åŒ¹é…ï¼‰              |

> ğŸ“ **æ³¨æ„**: ç³»ç»Ÿé»˜è®¤å¯ç”¨ Apifox æ‰©å±•å±æ€§å’Œæ–‡ä»¶å¤¹æ ‡ç­¾åŠŸèƒ½ï¼Œæ— éœ€é¢å¤–é…ç½®ã€‚

#### æ¥å£çŠ¶æ€æ˜ å°„

`excludedByTags` æ”¯æŒä¸­æ–‡çŠ¶æ€é…ç½®ï¼Œç³»ç»Ÿä¼šè‡ªåŠ¨æ˜ å°„åˆ° Apifox çš„è‹±æ–‡çŠ¶æ€ï¼š

| ä¸­æ–‡çŠ¶æ€ | è‹±æ–‡çŠ¶æ€     | è¯´æ˜           |
| -------- | ------------ | -------------- |
| `è®¾è®¡ä¸­` | `designing`  | æ¥å£æ­£åœ¨è®¾è®¡ä¸­ |
| `å¼€å‘ä¸­` | `developing` | æ¥å£æ­£åœ¨å¼€å‘ä¸­ |
| `å·²å®Œæˆ` | `completed`  | æ¥å£å¼€å‘å®Œæˆ   |
| `å·²åºŸå¼ƒ` | `deprecated` | æ¥å£å·²åºŸå¼ƒ     |
| `å¾…å®š`   | `pending`    | æ¥å£çŠ¶æ€å¾…å®š   |
| `æµ‹è¯•ä¸­` | `testing`    | æ¥å£æ­£åœ¨æµ‹è¯•   |
| `å·²å‘å¸ƒ` | `published`  | æ¥å£å·²å‘å¸ƒ     |

#### å®¢æˆ·ç«¯è¿‡æ»¤ï¼ˆç”Ÿæˆæ—¶ï¼‰

åœ¨ç”Ÿæˆ Mock å’Œç±»å‹æ–‡ä»¶æ—¶è¿›è¡ŒäºŒæ¬¡è¿‡æ»¤ï¼š

| å‚æ•°             | ç±»å‹       | è¯´æ˜                                      |
| ---------------- | ---------- | ----------------------------------------- |
| `includePaths`   | `string[]` | åªåŒ…å«è¿™äº›è·¯å¾„ï¼ˆæ”¯æŒ `*` å’Œ `**` é€šé…ç¬¦ï¼‰ |
| `excludePaths`   | `string[]` | æ’é™¤è¿™äº›è·¯å¾„                              |
| `includeMethods` | `string[]` | åªåŒ…å«è¿™äº› HTTP æ–¹æ³•                      |
| `excludeMethods` | `string[]` | æ’é™¤è¿™äº› HTTP æ–¹æ³•                        |

#### å¸¸ç”¨åœºæ™¯

**åœºæ™¯ 1ï¼šå¯¼å‡ºæ‰€æœ‰æ¥å£ï¼Œæ’é™¤å·²åºŸå¼ƒ**

```json
{
  "apiFilter": {
    "scope": {
      "type": "ALL",
      "excludedByTags": ["å·²åºŸå¼ƒ"]
    }
  }
}
```

**åœºæ™¯ 2ï¼šåªå¯¼å‡ºæŒ‡å®šæ–‡ä»¶å¤¹**

```json
{
  "apiFilter": {
    "scope": {
      "type": "FOLDER",
      "folderPath": "ç”¨æˆ·æ¨¡å—/ç”¨æˆ·ç®¡ç†"
    }
  }
}
```

**åœºæ™¯ 3ï¼šæŒ‰æ ‡ç­¾å¯¼å‡º**

```json
{
  "apiFilter": {
    "scope": {
      "type": "TAG",
      "includedByTags": ["ç”¨æˆ·ç®¡ç†", "å•†å“ç®¡ç†"]
    }
  }
}
```

**åœºæ™¯ 4ï¼šæœåŠ¡ç«¯ + å®¢æˆ·ç«¯åŒé‡è¿‡æ»¤**

```json
{
  "apiFilter": {
    "scope": {
      "type": "ALL",
      "excludedByTags": ["å·²åºŸå¼ƒ"]
    },
    "includePaths": ["/api/v1/**"],
    "excludeMethods": ["DELETE"]
  }
}
```

### Mock æœåŠ¡å™¨é…ç½®

**é…ç½®æ–‡ä»¶**ï¼š`mock.config.js`  
**ä¸»è¦ä½œç”¨**ï¼šæ§åˆ¶ Mock æœåŠ¡å™¨çš„è¿è¡Œæ—¶è¡Œä¸ºï¼ŒåŒ…æ‹¬ç«¯å£ã€å·¥ä½œæ¨¡å¼ã€ä»£ç†ç›®æ ‡ç­‰

é€šè¿‡ `mock.config.js` é…ç½®æ–‡ä»¶ï¼Œæ‚¨å¯ä»¥çµæ´»é…ç½® Mock æœåŠ¡å™¨çš„è¡Œä¸ºï¼Œæ”¯æŒå¤šç§å·¥ä½œæ¨¡å¼å’ŒåŠ¨æ€é…ç½®ã€‚

#### åˆ›å»º Mock é…ç½®æ–‡ä»¶

åœ¨é¡¹ç›®æ ¹ç›®å½•åˆ›å»º `mock.config.js`ï¼š

**åŸºç¡€é…ç½®ç¤ºä¾‹**ï¼š

```javascript
export default {
  model: 'mock', // å·¥ä½œæ¨¡å¼
  port: 10000, // Mock æœåŠ¡å™¨ç«¯å£
  target: 'http://localhost:8080', // åç«¯æœåŠ¡å™¨åœ°å€
  remoteTarget: true
};
```

**å®Œæ•´é…ç½®ç¤ºä¾‹**ï¼š

```javascript
/**
 * Mock æœåŠ¡å™¨é…ç½®æ–‡ä»¶
 */

export default {
  // å·¥ä½œæ¨¡å¼ï¼š'proxy', 'mock'ï¼Œè®¿é—®æœåŠ¡å™¨æˆ–è€…è®¿é—®æœ¬åœ°æ•°æ®ã€‚å¯ä»¥åœ¨queryä¸­å†™å…¥$_mockï¼Œ$_proxyå®šä¹‰å•ä¸ªè¯·æ±‚
  model: 'mock',
  // æ˜¯å¦å¼€å¯https
  https: false,
  // æœ¬åœ°æœåŠ¡çš„ç«¯å£
  port: 10000,
  // é»˜è®¤ä»£ç†è‡³ç³»ç»Ÿæµ‹è¯•ç¯å¢ƒ, è¯·é…ç½®æœ¬åœ°host
  target: 'http://xxx.xxxx.com.cn',
  // å¼€å§‹remoteå‚æ•°, é€šè¿‡urlä¸­remote=xxxæ¥ä»£ç†å¤šä¸ªåç«¯åœ°å€, éœ€è¦mockç›´æ¥åœ¨urlä¸­è®¾ç½®remote=mockå³å¯
  remoteTarget: true,
  // å¤„ç†æ˜ å°„è·¯å¾„
  handleMapPath(req) {
    const url = req.req.url.slice(1);
    const splitUrl = url.split('/');
    const fileName = splitUrl[splitUrl.length - 1].split('?')[0];
    const relativePath = splitUrl.splice(0, splitUrl.length - 1).join('/');
    if (!fileName || !relativePath) {
      console.log('æ— æ˜ å°„è·¯å¾„æ–‡ä»¶åfileNameå€¼: ', fileName);
      console.log(
        'æ— æ˜ å°„è·¯å¾„æ–‡ä»¶è·¯å¾„relativePathå€¼: ',
        relativePath || 'ç©ºæ˜ å°„è·¯å¾„'
      );
      return {
        fileName: fileName || 'fileName',
        relativePath: relativePath || './'
      };
    }
    return {
      relativePath,
      fileName
    };
  }
};
```

#### é…ç½®é€‰é¡¹è¯´æ˜

| å‚æ•°            | ç±»å‹       | é»˜è®¤å€¼  | è¯´æ˜                                                 |
| --------------- | ---------- | ------- | ---------------------------------------------------- |
| `model`         | `string`   | `mock`  | å·¥ä½œæ¨¡å¼ï¼š`mock`ï¼ˆæœ¬åœ°æ•°æ®ï¼‰æˆ– `proxy`ï¼ˆä»£ç†åˆ°è¿œç¨‹ï¼‰ |
| `https`         | `boolean`  | `false` | æ˜¯å¦å¼€å¯ HTTPS                                       |
| `port`          | `number`   | `10000` | Mock æœåŠ¡å™¨ç«¯å£                                      |
| `target`        | `string`   | -       | è¿œç¨‹æœåŠ¡å™¨ç›®æ ‡åœ°å€ï¼ˆä»£ç†æ¨¡å¼ä½¿ç”¨ï¼‰                   |
| `remoteTarget`  | `boolean`  | `true`  | æ˜¯å¦æ”¯æŒ URL å‚æ•°æ§åˆ¶ï¼ˆ`?remote=mock`ï¼‰              |
| `handleMapPath` | `function` | -       | è·¯å¾„æ˜ å°„å¤„ç†å‡½æ•°ï¼Œç”¨äºè§£æè¯·æ±‚è·¯å¾„                   |

#### å·¥ä½œæ¨¡å¼è¯´æ˜

**1. Mock æ¨¡å¼ï¼ˆé»˜è®¤ï¼‰**

- ä¼˜å…ˆè¿”å›æœ¬åœ°ç”Ÿæˆçš„ Mock æ•°æ®
- é€‚åˆå‰ç«¯å¼€å‘é˜¶æ®µ

**2. Proxy æ¨¡å¼**

- æ‰€æœ‰è¯·æ±‚è½¬å‘åˆ° `target` æŒ‡å®šçš„è¿œç¨‹æœåŠ¡å™¨
- é€‚åˆè”è°ƒé˜¶æ®µ

**3. åŠ¨æ€åˆ‡æ¢**

- é€šè¿‡ URL å‚æ•°æ§åˆ¶å•ä¸ªè¯·æ±‚çš„è¡Œä¸ºï¼š
  - `?$_mock` - å¼ºåˆ¶ä½¿ç”¨ Mock æ•°æ®
  - `?$_proxy` - å¼ºåˆ¶ä½¿ç”¨ä»£ç†
  - `?remote=mock` - ä½¿ç”¨ Mock æ¨¡å¼

**4. æ™ºèƒ½è·¯ç”±æ§åˆ¶ï¼ˆcheck\_ å‡½æ•°ï¼‰**

ç³»ç»Ÿæ”¯æŒé€šè¿‡ `check_` å‡½æ•°å®ç°æ›´ç²¾ç»†çš„è·¯ç”±æ§åˆ¶ï¼š

```javascript
// åœ¨ Mock æ–‡ä»¶ä¸­å®šä¹‰æ§åˆ¶å‡½æ•°
export const check_PostRole = function () {
  // true: ä½¿ç”¨æœ¬åœ° Mock æ•°æ®
  // false: ä½¿ç”¨è¿œç¨‹æœåŠ¡å™¨æ•°æ®
  return false; // ä½¿ç”¨è¿œç¨‹æ•°æ®
};
```

**å·¥ä½œåŸç†ï¼š**

- å½“ `check_` å‡½æ•°è¿”å› `true` æ—¶ï¼Œä½¿ç”¨æœ¬åœ° Mock æ•°æ®
- å½“ `check_` å‡½æ•°è¿”å› `false` æ—¶ï¼Œå°è¯•ä½¿ç”¨è¿œç¨‹æœåŠ¡å™¨æ•°æ®
- å¦‚æœè¿œç¨‹æœåŠ¡å™¨æœªé…ç½®æˆ–ä¸å¯ç”¨ï¼Œè‡ªåŠ¨å›é€€åˆ°æœ¬åœ° Mock æ•°æ®

**é‡è¦é…ç½®è¯´æ˜ï¼š**

âš ï¸ **è¿œç¨‹æœåŠ¡å™¨é…ç½®**ï¼šç¡®ä¿ `target` é…ç½®ä¸ºçœŸå®å¯ç”¨çš„æœåŠ¡å™¨åœ°å€

```javascript
// mock.config.js
export default {
  model: 'mock',
  port: 10000,
  target: 'http://your-real-api-server.com', // âš ï¸ å¿…é¡»æ˜¯çœŸå®å¯ç”¨çš„åœ°å€
  remoteTarget: true
};
```

å¦‚æœ `target` é…ç½®ä¸ºå ä½ç¬¦åœ°å€ï¼ˆå¦‚ `http://xxx.xxxx.com.cn`ï¼‰ï¼Œç³»ç»Ÿä¼šæ­£ç¡®å›é€€åˆ°æœ¬åœ° Mock æ•°æ®ï¼Œè¿™æ˜¯é¢„æœŸçš„è¡Œä¸ºã€‚

### MockPortã€Target å’Œ Vite Proxy çš„å…³ç³»

ç†è§£è¿™ä¸‰ä¸ªé…ç½®é¡¹çš„å…³ç³»å¯¹äºæ­£ç¡®é…ç½®å¼€å‘ç¯å¢ƒéå¸¸é‡è¦ï¼š

#### é…ç½®å…³ç³»å›¾

```
å‰ç«¯åº”ç”¨ (Vite Dev Server)
    â†“ (API è¯·æ±‚ /api/v1/xxx)
Vite Proxy é…ç½®
    â†“ (è½¬å‘åˆ° mockPort)
Mock æœåŠ¡å™¨ (mockPort: 10000)
    â†“ (æ ¹æ® model é…ç½®)
â”œâ”€ Mock æ¨¡å¼: è¿”å›æœ¬åœ°æ•°æ®
â””â”€ Proxy æ¨¡å¼: ä»£ç†åˆ° target
     â†“
çœŸå®åç«¯æœåŠ¡å™¨ (target: http://xxx.com)
```

#### å…·ä½“é…ç½®ç¤ºä¾‹

**1. Apifox é…ç½® (apifox.config.json)**

```json
{
  "projectId": "YOUR_PROJECT_ID",
  "token": "YOUR_TOKEN",
  "mockDir": "./mock",
  "typesDir": "./src/types/mock"
}
```

**2. Vite ä»£ç†é…ç½® (vite.config.ts)**

```typescript
export default defineConfig({
  server: {
    proxy: {
      '/api': {
        target: 'http://localhost:10000', // æŒ‡å‘ Mock æœåŠ¡å™¨
        changeOrigin: true,
        rewrite: path => path.replace(/^\/api/, '')
      }
    }
  }
});
```

#### æ•°æ®æµå‘è¯´æ˜

1. **å‰ç«¯è¯·æ±‚**: `http://localhost:5173/api/v1/user/info`
2. **Vite ä»£ç†**: è½¬å‘åˆ° `http://localhost:10000/v1/user/info`
3. **Mock æœåŠ¡å™¨**: æ ¹æ® `model` é…ç½®å†³å®šï¼š
   - `model: 'mock'`: è¿”å›æœ¬åœ°ç”Ÿæˆçš„ Mock æ•°æ®
   - `model: 'proxy'`: ä»£ç†åˆ° `http://localhost:8080/v1/user/info`

#### ç¯å¢ƒåˆ‡æ¢ç¤ºä¾‹

**å¼€å‘é˜¶æ®µ (Mock æ¨¡å¼)**

```javascript
// mock.config.js
export default {
  model: 'mock', // ä½¿ç”¨æœ¬åœ° Mock æ•°æ®
  port: 10000,
  target: 'http://localhost:8080'
};
```

**è”è°ƒé˜¶æ®µ (Proxy æ¨¡å¼)**

```javascript
// mock.config.js
export default {
  model: 'proxy', // ä»£ç†åˆ°çœŸå®åç«¯
  port: 10000,
  target: 'http://test-api.company.com'
};
```

**æ··åˆæ¨¡å¼ (URL å‚æ•°æ§åˆ¶)**

```javascript
// mock.config.js
export default {
  model: 'mock', // é»˜è®¤ Mock æ¨¡å¼
  port: 10000,
  target: 'http://localhost:8080'
};

// ä½¿ç”¨æ–¹å¼ï¼š
// http://localhost:5173/api/v1/user/info          -> Mock æ•°æ®
// http://localhost:5173/api/v1/user/info?$_proxy  -> çœŸå®åç«¯æ•°æ®
```

### è·å– Apifox Token

1. ç™»å½• [Apifox](https://www.apifox.cn/)
2. è¿›å…¥ã€Œä¸ªäººè®¾ç½®ã€â†’ã€Œè®¿é—®ä»¤ç‰Œã€
3. åˆ›å»ºæ–°çš„è®¿é—®ä»¤ç‰Œ
4. å¤åˆ¶ Token åˆ° `apifox.config.json`

## ğŸ“– CLI å‘½ä»¤

å®‰è£…åï¼Œä½ å¯ä»¥ä½¿ç”¨ `apifox-mock` å‘½ä»¤ï¼š

```bash
# ç”Ÿæˆ Mock å’Œç±»å‹æ–‡ä»¶
apifox-mock generate

# å¯åŠ¨ Mock æœåŠ¡å™¨
apifox-mock serve

# å¼€å‘æ¨¡å¼ï¼ˆç”Ÿæˆ + æœåŠ¡ï¼‰
apifox-mock dev
```

æˆ–è€…é€šè¿‡ npm scriptsï¼š

```bash
npm run auto-mock
npm run mock
npm run mock:dev
```

## ğŸ¯ é«˜çº§ç”¨æ³•

### ğŸ”§ æ™ºèƒ½å‚æ•°æ ¡éªŒ

æœ¬å·¥å…·é‡‡ç”¨**æ™ºèƒ½å‚æ•°æ ¡éªŒç­–ç•¥**ï¼Œæ ¹æ®å‚æ•°æ¥æºï¼ˆqueryå‚æ•° vs bodyå‚æ•°ï¼‰è¿›è¡Œå·®å¼‚åŒ–å¤„ç†ï¼Œç¬¦åˆHTTPåè®®æ ‡å‡†ã€‚

#### æ ¡éªŒç­–ç•¥

| å‚æ•°æ¥æº      | ç±»å‹æ ¡éªŒ | è¯´æ˜                                        |
| ------------- | -------- | ------------------------------------------- |
| **Queryå‚æ•°** | âŒ è·³è¿‡  | URLæŸ¥è¯¢å‚æ•°æ°¸è¿œæ˜¯å­—ç¬¦ä¸²ï¼Œç±»å‹è½¬æ¢æ˜¯åç«¯èŒè´£ |
| **Bodyå‚æ•°**  | âœ… æ ¡éªŒ  | è¯·æ±‚ä½“å‚æ•°æ”¯æŒä¸¥æ ¼ç±»å‹æ ¡éªŒ                  |

#### å·¥ä½œåŸç†

```javascript
// ç”Ÿæˆçš„Mockæ–‡ä»¶ä¸­çš„å‚æ•°æ ¡éªŒé€»è¾‘
let originQuery = options.req.query; // URLæŸ¥è¯¢å‚æ•°
let bodyParams = JSON.parse(options.data || '{}'); // è¯·æ±‚ä½“å‚æ•°

// åˆå¹¶å‚æ•°ï¼Œbodyå‚æ•°ä¼˜å…ˆçº§æ›´é«˜
let apiParams = { ...originQuery, ...bodyParams };

// æ™ºèƒ½æ ¡éªŒï¼šåªå¯¹bodyå‚æ•°è¿›è¡Œç±»å‹æ ¡éªŒ
if (
  apiParams.hasOwnProperty(param.paramKey) &&
  bodyParams.hasOwnProperty(param.paramKey)
) {
  // å‚æ•°æ¥è‡ªbodyï¼Œè¿›è¡Œç±»å‹æ ¡éªŒ
  if (
    lodash[param.paramType] &&
    !lodash[param.paramType](apiParams[param.paramKey])
  ) {
    return { code: 1, msg: 'å‚æ•°ç±»å‹é”™è¯¯: ' + param.paramKey };
  }
}
// queryå‚æ•°è·³è¿‡ç±»å‹æ ¡éªŒ
```

#### å®é™…åº”ç”¨åœºæ™¯

**åœºæ™¯1ï¼šGETè¯·æ±‚ - åªæœ‰queryå‚æ•°**

```javascript
GET /api/users?pageNum=1&pageSize=10
// âœ… pageNumå’ŒpageSizeè·³è¿‡ç±»å‹æ ¡éªŒï¼Œå› ä¸ºæ¥è‡ªURLæŸ¥è¯¢å‚æ•°
```

**åœºæ™¯2ï¼šPOSTè¯·æ±‚ - åªæœ‰bodyå‚æ•°**

```javascript
POST /api/users
Body: { "name": "å¼ ä¸‰", "age": 25 }
// âœ… nameå’Œageè¿›è¡Œç±»å‹æ ¡éªŒï¼Œå› ä¸ºæ¥è‡ªè¯·æ±‚ä½“
```

**åœºæ™¯3ï¼šPOSTè¯·æ±‚ - æ··åˆå‚æ•°**

```javascript
POST /api/users?pageNum=1
Body: { "name": "å¼ ä¸‰", "age": 25 }
// âœ… pageNumè·³è¿‡ç±»å‹æ ¡éªŒï¼ˆæ¥è‡ªqueryï¼‰ï¼Œnameå’Œageè¿›è¡Œç±»å‹æ ¡éªŒï¼ˆæ¥è‡ªbodyï¼‰
```

#### ä¼˜åŠ¿

- âœ… **ç¬¦åˆHTTPæ ‡å‡†** - æ­£ç¡®å¤„ç†URLæŸ¥è¯¢å‚æ•°çš„ç‰¹æ€§
- âœ… **çµæ´»æ ¡éªŒ** - æ”¯æŒqueryå’Œbodyå‚æ•°çš„å·®å¼‚åŒ–å¤„ç†
- âœ… **å‘åå…¼å®¹** - ä¿æŒå¿…è¦å‚æ•°çš„å­˜åœ¨æ€§æ ¡éªŒ
- âœ… **å¼€å‘å‹å¥½** - é¿å…å› queryå‚æ•°ç±»å‹å¯¼è‡´çš„è¯¯æŠ¥

### ğŸ­ Apifox Mock è§„åˆ™

æœ¬å·¥å…·**ç›´æ¥ä½¿ç”¨ Apifox ä¸­é…ç½®çš„ mock è§„åˆ™**ï¼Œæ— éœ€åœ¨æœ¬åœ°é‡å¤é…ç½®ã€‚åªéœ€åœ¨ Apifox ä¸­è®¾ç½®å¥½å­—æ®µçš„ mock è§„åˆ™ï¼Œç”Ÿæˆæ—¶ä¼šè‡ªåŠ¨åº”ç”¨ã€‚

#### å·¥ä½œåŸç†

1. **åœ¨ Apifox ä¸­é…ç½®** - ä¸ºæ¯ä¸ªå­—æ®µè®¾ç½® mock è§„åˆ™ï¼ˆæ”¯æŒ Mock.js è¯­æ³•å’Œ Apifox æ¨¡æ¿è¯­æ³•ï¼‰
2. **è‡ªåŠ¨æ‹‰å–è§„åˆ™** - å·¥å…·è‡ªåŠ¨ä» Apifox å¯¼å‡ºçš„ OpenAPI æ•°æ®ä¸­æå– mock è§„åˆ™
3. **æ™ºèƒ½è½¬æ¢** - è‡ªåŠ¨å°† Apifox æ¨¡æ¿è¯­æ³•ï¼ˆå¦‚ `{{$string.uuid}}`ï¼‰è½¬æ¢ä¸º Mock.js è¯­æ³•ï¼ˆå¦‚ `@guid`ï¼‰
4. **ç”Ÿæˆ Mock æ–‡ä»¶** - å·¥å…·è‡ªåŠ¨æå–å¹¶è½¬æ¢ Apifox çš„ mock è§„åˆ™ï¼Œç”Ÿæˆæœ¬åœ° Mock æ–‡ä»¶

#### ç¤ºä¾‹

åœ¨ Apifox ä¸­é…ç½®å­—æ®µçš„ mock è§„åˆ™ï¼š

```
å­—æ®µå: id
ç±»å‹: string
Mock è§„åˆ™: {{$string.uuid}}     â† Apifox æ¨¡æ¿è¯­æ³•

å­—æ®µå: name
ç±»å‹: string
Mock è§„åˆ™: {{$person.fullName(locale='zh_CN')}}

å­—æ®µå: code
ç±»å‹: number
Mock è§„åˆ™: @integer(0, 999)     â† Mock.js è¯­æ³•
```

ç”Ÿæˆçš„ Mock æ–‡ä»¶ä¼šè‡ªåŠ¨è½¬æ¢ï¼š

```javascript
Mock.mock({
  code: '@integer(0, 999)', // ç›´æ¥ä½¿ç”¨ Mock.js è§„åˆ™
  data: {
    id: '@guid', // {{$string.uuid}} â†’ @guid
    name: '@cname', // {{$person.fullName(locale='zh_CN')}} â†’ @cname
    email: '@email' // ç›´æ¥ä½¿ç”¨ Mock.js è§„åˆ™
  }
});
```

#### ä¼˜åŠ¿

- âœ… **ç»Ÿä¸€ç®¡ç†** - åœ¨ Apifox ä¸­ç»Ÿä¸€ç®¡ç†æ‰€æœ‰ mock è§„åˆ™ï¼Œå›¢é˜Ÿåä½œæ›´æ–¹ä¾¿
- âœ… **å®Œå…¨ä¸€è‡´** - æœ¬åœ° Mock æ•°æ®ä¸ Apifox äº‘ç«¯ Mock ä¿æŒä¸€è‡´
- âœ… **æ™ºèƒ½è½¬æ¢** - è‡ªåŠ¨è½¬æ¢ Apifox æ¨¡æ¿è¯­æ³•ä¸º Mock.js è¯­æ³•ï¼Œæ— ç¼å…¼å®¹
- âœ… **åŒè¯­æ³•æ”¯æŒ** - åŒæ—¶æ”¯æŒ Mock.js è¯­æ³•ï¼ˆ`@xxx`ï¼‰å’Œ Apifox æ¨¡æ¿è¯­æ³•ï¼ˆ`{{$xxx}}`ï¼‰

#### å›é€€ç­–ç•¥

å¦‚æœå­—æ®µæ²¡æœ‰é…ç½® Apifox mock è§„åˆ™ï¼Œä¼šä½¿ç”¨ä»¥ä¸‹å›é€€ç­–ç•¥ï¼š

1. **ç¤ºä¾‹å€¼** - ä½¿ç”¨ schema ä¸­å®šä¹‰çš„ `example`
2. **æšä¸¾å€¼** - ä½¿ç”¨ `enum` ä¸­çš„å€¼ï¼ˆé€šè¿‡ `@pick` éšæœºé€‰æ‹©ï¼‰
3. **åŸºæœ¬è§„åˆ™** - æ ¹æ®å­—æ®µç±»å‹ä½¿ç”¨ç®€å•çš„é»˜è®¤è§„åˆ™ï¼ˆå¦‚å­—ç¬¦ä¸²ç”¨ `@cword(3,8)`ï¼‰

### è‡ªå®šä¹‰ Mock æ•°æ®

ä¿®æ”¹ç”Ÿæˆçš„ Mock æ–‡ä»¶ï¼ˆå¦‚ `mock/api/auth/login.js`ï¼‰ï¼š

```javascript
export default {
  method: 'POST',
  path: '/api/auth/login',
  response: {
    code: 0,
    message: 'success',
    data: {
      token: 'custom-token-12345', // è‡ªå®šä¹‰æ•°æ®
      userId: 10086
    }
  }
};
```

> âš ï¸ æ³¨æ„ï¼šé‡æ–°è¿è¡Œ `apifox-mock generate` ä¼šè¦†ç›–è‡ªå®šä¹‰çš„ä¿®æ”¹

### çƒ­é‡è½½

Mock æœåŠ¡å™¨æ”¯æŒçƒ­é‡è½½ï¼Œä¿®æ”¹ Mock æ–‡ä»¶åä¼šè‡ªåŠ¨ç”Ÿæ•ˆï¼Œæ— éœ€é‡å¯ï¼š

```bash
npm run mock:serve
# ä¿®æ”¹ mock æ–‡ä»¶ï¼Œä¿å­˜åç«‹å³ç”Ÿæ•ˆ
```

## ğŸ”„ å·¥ä½œæµç¨‹

### æ¶æ„è¯´æ˜

ä½œä¸º npm åŒ…å®‰è£…åˆ°ä½ çš„é¡¹ç›®ä¸­ï¼Œå·¥ä½œæ¨¡å¼å¦‚ä¸‹ï¼š

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                 ä½ çš„å‰ç«¯é¡¹ç›® (å¦‚ Vue)                        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚  Apifox å¹³å°                                          â”‚  â”‚
â”‚  â”‚  OpenAPI æ•°æ®                                         â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                  â”‚ â‘  æ‹‰å– API                              â”‚
â”‚                  â†“                                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚  apifox-mock-generator (npm åŒ…)                      â”‚  â”‚
â”‚  â”‚  â€¢ apifox-mock generate  - ç”Ÿæˆæ–‡ä»¶                  â”‚  â”‚
â”‚  â”‚  â€¢ apifox-mock serve     - å¯åŠ¨æœåŠ¡å™¨                â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                  â”‚ â‘¡ ç”Ÿæˆ                                  â”‚
â”‚                  â†“                                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚  é…ç½®æ–‡ä»¶                                             â”‚  â”‚
â”‚  â”‚  â€¢ apifox.config.json - API ç”Ÿæˆé…ç½®                 â”‚  â”‚
â”‚  â”‚  â€¢ mock.config.js     - Mock æœåŠ¡å™¨é…ç½®              â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                  â”‚ â‘¢ ç”Ÿæˆ                                  â”‚
â”‚                  â†“                                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚  ç”Ÿæˆçš„æ–‡ä»¶                                           â”‚  â”‚
â”‚  â”‚  â€¢ mock/        - Mock æ•°æ®æ–‡ä»¶                      â”‚  â”‚
â”‚  â”‚  â€¢ src/types/api/ - TypeScript ç±»å‹                  â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”˜  â”‚
â”‚         â”‚                                            â”‚      â”‚
â”‚         â”‚ â‘£ å¯¼å…¥ç±»å‹                                 â”‚ â‘¤ HTTP è¯·æ±‚
â”‚         â†“                                            â†“      â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚  å‰ç«¯ä»£ç        â”‚    Vite Proxy    â”‚  Mock æœåŠ¡å™¨    â”‚  â”‚
â”‚  â”‚ (localhost:5173)â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€>  â”‚ (localhost:10000)â”‚  â”‚
â”‚  â”‚                 â”‚  /api/**         â”‚                 â”‚  â”‚
â”‚  â”‚  â€¢ ä¸šåŠ¡é€»è¾‘     â”‚                  â”‚  â€¢ å·¥ä½œæ¨¡å¼åˆ‡æ¢ â”‚  â”‚
â”‚  â”‚  â€¢ API è°ƒç”¨     â”‚  <â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚  â€¢ Mock/Proxy   â”‚  â”‚
â”‚  â”‚  â€¢ TS ç±»å‹      â”‚   å“åº”æ•°æ®       â”‚  â€¢ çƒ­é‡è½½       â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                  â”‚          â”‚
â”‚                                                  â”‚ â‘¥ ä»£ç†   â”‚
â”‚                                                  â†“          â”‚
â”‚                                            â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚                                            â”‚ çœŸå®åç«¯    â”‚  â”‚
â”‚                                            â”‚ (target)    â”‚  â”‚
â”‚                                            â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### è¯¦ç»†æ­¥éª¤

#### 1ï¸âƒ£ å®‰è£…å¹¶é…ç½®

```bash
# åœ¨ä½ çš„ Vue é¡¹ç›®ç›®å½•
npm install apifox-mock-generator --save-dev

# åˆ›å»º Apifox é…ç½®æ–‡ä»¶
vim apifox.config.json

# åˆ›å»º Mock æœåŠ¡å™¨é…ç½®æ–‡ä»¶
vim mock.config.js

# é…ç½® package.json
```

#### 2ï¸âƒ£ ç”Ÿæˆæ–‡ä»¶

```bash
npm run mock:generate
```

æ‰§è¡Œè¿‡ç¨‹ï¼š

- ä» Apifox æ‹‰å– API å®šä¹‰
- åº”ç”¨ç­›é€‰è§„åˆ™
- ç”Ÿæˆ TypeScript ç±»å‹ â†’ `src/types/api/`
- ç”Ÿæˆ Mock æ•°æ® â†’ `mock/`

#### 3ï¸âƒ£ å¯åŠ¨ Mock æœåŠ¡å™¨

```bash
npm run mock:serve
```

Mock æœåŠ¡å™¨ä¼šæ ¹æ® `mock.config.js` é…ç½®å¯åŠ¨åœ¨æŒ‡å®šç«¯å£ï¼ˆé»˜è®¤ 10000ï¼‰ã€‚

#### 4ï¸âƒ£ é…ç½®å‰ç«¯ä»£ç†

```typescript
// vite.config.ts
export default defineConfig({
  server: {
    proxy: {
      '/api': {
        target: 'http://localhost:10000', // æŒ‡å‘ Mock æœåŠ¡å™¨ç«¯å£
        changeOrigin: true,
        rewrite: path => path.replace(/^\/api/, '')
      }
    }
  }
});
```

#### 5ï¸âƒ£ ç¯å¢ƒåˆ‡æ¢

**å¼€å‘é˜¶æ®µ (Mock æ¨¡å¼)**

```javascript
// mock.config.js
export default {
  model: 'mock', // ä½¿ç”¨æœ¬åœ° Mock æ•°æ®
  port: 10000,
  target: 'http://localhost:8080'
};
```

**è”è°ƒé˜¶æ®µ (Proxy æ¨¡å¼)**

```javascript
// mock.config.js
export default {
  model: 'proxy', // ä»£ç†åˆ°çœŸå®åç«¯
  port: 10000,
  target: 'http://test-api.company.com'
};
```

#### 6ï¸âƒ£ åœ¨ä»£ç ä¸­ä½¿ç”¨

```typescript
// å¯¼å…¥ç±»å‹
import type { LoginRequest, LoginResponse } from '@/types/api/auth/login';

// å‘èµ·è¯·æ±‚ï¼ˆè‡ªåŠ¨ä»£ç†åˆ° Mock æœåŠ¡å™¨ï¼‰
const response = await fetch('/api/auth/login', {
  method: 'POST',
  body: JSON.stringify(data)
});
```

### é¡¹ç›®ç»“æ„

å®‰è£…åï¼Œä½ çš„é¡¹ç›®ç»“æ„ï¼š

```
your-vue-project/
â”œâ”€â”€ node_modules/
â”‚   â””â”€â”€ apifox-mock-generator/   # npm åŒ…
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ types/
â”‚   â”‚   â””â”€â”€ api/                 # âœ¨ ç”Ÿæˆçš„ç±»å‹æ–‡ä»¶
â”‚   â”‚       â”œâ”€â”€ auth/
â”‚   â”‚       â”‚   â””â”€â”€ login.ts
â”‚   â”‚       â””â”€â”€ user/
â”‚   â”‚           â””â”€â”€ info.ts
â”‚   â””â”€â”€ components/
â”œâ”€â”€ mock/                        # âœ¨ ç”Ÿæˆçš„ Mock æ–‡ä»¶
â”‚   â””â”€â”€ api/
â”‚       â”œâ”€â”€ auth/
â”‚       â”‚   â””â”€â”€ login.js
â”‚       â””â”€â”€ user/
â”‚           â””â”€â”€ info.js
â”œâ”€â”€ apifox.config.json          # âš™ï¸ é…ç½®æ–‡ä»¶
â”œâ”€â”€ mock.config.js              # âš™ï¸ é…ç½®æ–‡ä»¶
â”œâ”€â”€ vite.config.ts              # é…ç½®ä»£ç†
â””â”€â”€ package.json
```

### ä¼˜åŠ¿

âœ… **é›†æˆç®€å•** - ä½œä¸º npm åŒ…å®‰è£…ï¼Œæ— éœ€å•ç‹¬é¡¹ç›®  
âœ… **ç±»å‹å®‰å…¨** - ç”Ÿæˆçš„ç±»å‹æ–‡ä»¶ç›´æ¥åœ¨é¡¹ç›®ä¸­ä½¿ç”¨  
âœ… **çœŸå®ç¯å¢ƒ** - é€šè¿‡ HTTP Mockï¼Œå®Œå…¨æ¨¡æ‹ŸçœŸå® API  
âœ… **çƒ­é‡è½½** - ä¿®æ”¹ Mock æ•°æ®ç«‹å³ç”Ÿæ•ˆ  
âœ… **å›¢é˜Ÿåä½œ** - é…ç½®å’Œç±»å‹å¯ä»¥æäº¤åˆ° Git å…±äº«

## ğŸ“ é¡¹ç›®ç»“æ„

```
apifox-mock-generator/
â”œâ”€â”€ src/                           # æºä»£ç 
â”‚   â”œâ”€â”€ core/                      # æ ¸å¿ƒæ¨¡å—
â”‚   â”‚   â”œâ”€â”€ apifox-client.ts       # Apifox API å®¢æˆ·ç«¯
â”‚   â”‚   â”œâ”€â”€ config-loader.ts       # é…ç½®åŠ è½½å™¨
â”‚   â”‚   â”œâ”€â”€ endpoint-filter.ts     # ç«¯ç‚¹è¿‡æ»¤å™¨
â”‚   â”‚   â””â”€â”€ openapi-converter.ts   # OpenAPI è½¬æ¢å™¨
â”‚   â”œâ”€â”€ generators/                # ç”Ÿæˆå™¨æ¨¡å—
â”‚   â”‚   â”œâ”€â”€ templates/             # æ¨¡æ¿ç”Ÿæˆ
â”‚   â”‚   â”‚   â”œâ”€â”€ mock-template.ts   # Mock æ–‡ä»¶æ¨¡æ¿ï¼ˆä½¿ç”¨ Apifox mock è§„åˆ™ï¼‰
â”‚   â”‚   â”‚   â””â”€â”€ type-template.ts   # TypeScript ç±»å‹æ¨¡æ¿
â”‚   â”‚   â”œâ”€â”€ mock-generator.ts      # Mock æ–‡ä»¶ç”Ÿæˆå™¨
â”‚   â”‚   â””â”€â”€ type-generator.ts      # ç±»å‹æ–‡ä»¶ç”Ÿæˆå™¨
â”‚   â”œâ”€â”€ server/                    # Mock æœåŠ¡å™¨æ¨¡å—
â”‚   â”‚   â”œâ”€â”€ express-server.ts      # Express æœåŠ¡å™¨é…ç½®
â”‚   â”‚   â”œâ”€â”€ hot-reload.ts          # çƒ­é‡è½½åŠŸèƒ½
â”‚   â”‚   â”œâ”€â”€ route-loader.ts        # è·¯ç”±åŠ è½½å™¨
â”‚   â”‚   â”œâ”€â”€ route-manager.ts       # è·¯ç”±ç®¡ç†å™¨
â”‚   â”‚   â”œâ”€â”€ route-matcher.ts       # è·¯ç”±åŒ¹é…å™¨
â”‚   â”‚   â””â”€â”€ validation.ts          # å‚æ•°æ ¡éªŒ
â”‚   â”œâ”€â”€ utils/                     # å·¥å…·å‡½æ•°
â”‚   â”‚   â”œâ”€â”€ block-updater.ts       # å¢é‡æ›´æ–°å·¥å…·
â”‚   â”‚   â”œâ”€â”€ code-formatter.ts      # ä»£ç æ ¼å¼åŒ–
â”‚   â”‚   â”œâ”€â”€ file-operations.ts     # æ–‡ä»¶æ“ä½œ
â”‚   â”‚   â”œâ”€â”€ file-helper.ts         # æ–‡ä»¶åŠ©æ‰‹ï¼ˆç»Ÿä¸€å¯¼å‡ºï¼‰
â”‚   â”‚   â”œâ”€â”€ logger.ts              # æ—¥å¿—å·¥å…·
â”‚   â”‚   â”œâ”€â”€ path-utils.ts          # è·¯å¾„å·¥å…·
â”‚   â”‚   â””â”€â”€ type-mapping.ts        # ç±»å‹æ˜ å°„
â”‚   â”œâ”€â”€ scripts/                   # è„šæœ¬å…¥å£
â”‚   â”‚   â”œâ”€â”€ generate-mock.ts       # ç”Ÿæˆè„šæœ¬ä¸»å…¥å£
â”‚   â”‚   â””â”€â”€ serve-mock.ts          # æœåŠ¡å™¨è„šæœ¬ä¸»å…¥å£
â”‚   â”œâ”€â”€ types/                     # ç±»å‹å®šä¹‰
â”‚   â”‚   â””â”€â”€ index.ts               # å…¬å…±ç±»å‹
â”‚   â””â”€â”€ index.ts                   # åŒ…å…¥å£æ–‡ä»¶
â”œâ”€â”€ generated/                     # ç”Ÿæˆçš„æ–‡ä»¶ï¼ˆè‡ªåŠ¨ï¼‰
â”‚   â”œâ”€â”€ mock/                      # Mock æ•°æ®
â”‚   â””â”€â”€ types/                     # TypeScript ç±»å‹
â”œâ”€â”€ dist/                          # ç¼–è¯‘è¾“å‡º
â”œâ”€â”€ apifox.config.json             # é…ç½®æ–‡ä»¶
â”œâ”€â”€ package.json
â””â”€â”€ tsconfig.json
```

### ğŸ—ï¸ æ¶æ„è®¾è®¡

é¡¹ç›®é‡‡ç”¨**æ¨¡å—åŒ–åˆ†å±‚æ¶æ„**ï¼ŒèŒè´£æ¸…æ™°åˆ†ç¦»ï¼š

| å±‚çº§       | ç›®å½•          | èŒè´£                                          |
| ---------- | ------------- | --------------------------------------------- |
| **æ ¸å¿ƒå±‚** | `core/`       | Apifox API äº¤äº’ã€é…ç½®åŠ è½½ã€OpenAPI è½¬æ¢å’Œè¿‡æ»¤ |
| **ç”Ÿæˆå±‚** | `generators/` | Mock å’Œ TypeScript ç±»å‹ç”Ÿæˆã€ä»£ç æ¨¡æ¿         |
| **æœåŠ¡å±‚** | `server/`     | Express æœåŠ¡å™¨ã€åŠ¨æ€è·¯ç”±ã€çƒ­é‡è½½ã€å‚æ•°æ ¡éªŒ    |
| **å·¥å…·å±‚** | `utils/`      | æ–‡ä»¶æ“ä½œã€å¢é‡æ›´æ–°ã€ä»£ç æ ¼å¼åŒ–ã€æ—¥å¿—è¾“å‡º      |
| **è„šæœ¬å±‚** | `scripts/`    | CLI å‘½ä»¤å…¥å£ï¼ˆgenerateã€serveï¼‰               |
| **ç±»å‹å±‚** | `types/`      | å…¬å…± TypeScript ç±»å‹å®šä¹‰                      |

## ğŸ› ï¸ è„šæœ¬è¯´æ˜

| å‘½ä»¤               | è¯´æ˜                                        |
| ------------------ | ------------------------------------------- |
| `npm run build`    | ç¼–è¯‘ TypeScript ä»£ç                         |
| `npm run generate` | ä¸€é”®ç”Ÿæˆï¼ˆæ‹‰å– API + ç”Ÿæˆ Mock + ç”Ÿæˆç±»å‹ï¼‰ |
| `npm run serve`    | å¯åŠ¨ Mock æœåŠ¡å™¨                            |
| `npm run dev`      | å¼€å‘æ¨¡å¼ï¼ˆgenerate + serveï¼‰                |

## ğŸ“š æŠ€æœ¯æ ˆ

- **è¯­è¨€**: TypeScript 5.3+
- **è¿è¡Œæ—¶**: Node.js 16+
- **Web æ¡†æ¶**: Express 4.x
- **HTTP å®¢æˆ·ç«¯**: Axios
- **Mock æ•°æ®**: @faker-js/faker, Mock.js
- **æ–‡ä»¶ç›‘å¬**: Chokidar
- **ä»£ç æ ¼å¼åŒ–**: Prettier
- **æ—¥å¿—å·¥å…·**: Chalk
- **API å·¥å…·**: Apifox CLI

## âš ï¸ å·²çŸ¥é™åˆ¶

å½“å‰ç‰ˆæœ¬æš‚ä¸æ”¯æŒä»¥ä¸‹ç‰¹æ€§ï¼š

- âš ï¸ OpenAPI 2.0 (Swagger) - ä»…æ”¯æŒ OpenAPI 3.0
- âš ï¸ æ–‡ä»¶ä¸Šä¼ /ä¸‹è½½ç±»å‹
- âš ï¸ WebSocket åè®®
- âš ï¸ GraphQL

## ğŸ’¡ å¸¸è§é—®é¢˜

### 1. æ‹‰å– API å¤±è´¥ï¼Ÿ

æ£€æŸ¥ï¼š

- `projectId` å’Œ `token` æ˜¯å¦æ­£ç¡®
- Token æ˜¯å¦æœ‰ã€Œé¡¹ç›®ç»´æŠ¤è€…ã€æˆ–ã€Œç®¡ç†å‘˜ã€æƒé™
- ç½‘ç»œè¿æ¥æ˜¯å¦æ­£å¸¸

### 2. ç«¯å£è¢«å ç”¨ï¼Ÿ

ä¿®æ”¹ `mock.config.js` ä¸­çš„ `port` é…ç½®ã€‚

### 3. æ²¡æœ‰ç”Ÿæˆä»»ä½•æ–‡ä»¶ï¼Ÿ

æ£€æŸ¥ï¼š

- `apiFilter` ç­›é€‰è§„åˆ™æ˜¯å¦è¿‡äºä¸¥æ ¼
- Apifox é¡¹ç›®ä¸­æ˜¯å¦æœ‰åŒ¹é…çš„æ¥å£
- æŸ¥çœ‹ç»ˆç«¯è¾“å‡ºçš„é”™è¯¯ä¿¡æ¯
- ç¡®è®¤ Apifox Token æ˜¯å¦æœ‰æ­£ç¡®çš„æƒé™

### 4. ç±»å‹ç”Ÿæˆä¸å‡†ç¡®ï¼Ÿ

å»ºè®®ï¼š

- åœ¨ Apifox ä¸­å®Œå–„æ¥å£çš„æ•°æ®æ¨¡å‹å®šä¹‰
- ä½¿ç”¨ JSON Schema å®šä¹‰æ¸…æ™°çš„æ•°æ®ç»“æ„
- ä¸ºæ¯ä¸ªå­—æ®µæ·»åŠ æè¿°å’Œç¤ºä¾‹

### 5. çƒ­é‡è½½ä¸ç”Ÿæ•ˆï¼Ÿ

ç¡®è®¤ï¼š

- Mock æ–‡ä»¶ä¿å­˜æˆåŠŸ
- æŸ¥çœ‹ç»ˆç«¯æ˜¯å¦æœ‰æ–‡ä»¶å˜åŒ–çš„æç¤º
- æ£€æŸ¥æ–‡ä»¶è·¯å¾„æ˜¯å¦åœ¨ `mockDir` é…ç½®çš„ç›®å½•ä¸‹

### 6. å¯åŠ¨ Mock æœåŠ¡å™¨å¤±è´¥ï¼Ÿ

æ£€æŸ¥ä»¥ä¸‹æ¡ä»¶ï¼š

- âœ… **é…ç½®æ–‡ä»¶å­˜åœ¨** - ç¡®ä¿ `apifox.config.json` åœ¨é¡¹ç›®æ ¹ç›®å½•
- âœ… **Mock ç›®å½•å­˜åœ¨** - ç¡®ä¿ `mock/` ç›®å½•å­˜åœ¨ä¸”ä¸ä¸ºç©º
- âœ… **é¡¹ç›®å·²ç¼–è¯‘** - è¿è¡Œ `npm run build` ç¼–è¯‘ä»£ç 
- âœ… **Mock æ–‡ä»¶å·²ç”Ÿæˆ** - å…ˆè¿è¡Œ `npm run generate` ç”Ÿæˆ Mock æ–‡ä»¶
- âœ… **ç«¯å£æœªè¢«å ç”¨** - æ£€æŸ¥ `mock.config.js` ä¸­ `port` é…ç½®çš„ç«¯å£æ˜¯å¦å¯ç”¨

å¸¸è§é”™è¯¯åŠè§£å†³æ–¹æ¡ˆï¼š

```bash
# é”™è¯¯ï¼šæœªæ‰¾åˆ° apifox.config.json é…ç½®æ–‡ä»¶
# è§£å†³ï¼šåˆ›å»ºé…ç½®æ–‡ä»¶
cp apifox.config.json.example apifox.config.json

# é”™è¯¯ï¼šæœªæ‰¾åˆ° Mock ç›®å½•
# è§£å†³ï¼šå…ˆç”Ÿæˆ Mock æ–‡ä»¶
npm run generate

# é”™è¯¯ï¼šæœªæ‰¾åˆ°ä»»ä½• Mock æ–‡ä»¶
# è§£å†³ï¼šæ£€æŸ¥ API ç­›é€‰é…ç½®ï¼Œç¡®ä¿æœ‰åŒ¹é…çš„æ¥å£
```

### 7. check\_ å‡½æ•°ä¸ç”Ÿæ•ˆï¼Ÿ

**é—®é¢˜ç°è±¡ï¼š** é…ç½®äº† `check_` å‡½æ•°ä½†ä¼¼ä¹æ²¡æœ‰ç”Ÿæ•ˆ

**è§£å†³æ–¹æ¡ˆï¼š**

1. **æ£€æŸ¥å‡½æ•°å‘½å**ï¼šç¡®ä¿å‡½æ•°åæ ¼å¼æ­£ç¡®

   ```javascript
   // âœ… æ­£ç¡®æ ¼å¼
   export const check_PostRole = function () {
     return false; // ä½¿ç”¨è¿œç¨‹æ•°æ®
   };

   // âŒ é”™è¯¯æ ¼å¼
   export const checkPostRole = function () { ... }
   ```

2. **æ£€æŸ¥è¿œç¨‹æœåŠ¡å™¨é…ç½®**ï¼š

   ```javascript
   // mock.config.js
   export default {
     target: 'http://your-real-api-server.com', // âš ï¸ å¿…é¡»æ˜¯çœŸå®å¯ç”¨çš„åœ°å€
     remoteTarget: true
   };
   ```

3. **éªŒè¯å‡½æ•°è¿”å›å€¼**ï¼š
   - `return true` - ä½¿ç”¨æœ¬åœ° Mock æ•°æ®
   - `return false` - ä½¿ç”¨è¿œç¨‹æœåŠ¡å™¨æ•°æ®

4. **æ£€æŸ¥æ§åˆ¶å°è¾“å‡º**ï¼šå‡½æ•°è¢«è°ƒç”¨æ—¶ä¼šæœ‰æ—¥å¿—è¾“å‡º
   ```javascript
   export const check_PostRole = function () {
     console.log('ğŸ” check_PostRole è¢«è°ƒç”¨äº†ï¼');
     return false;
   };
   ```

**é‡è¦è¯´æ˜ï¼š** å¦‚æœ `target` é…ç½®ä¸ºå ä½ç¬¦åœ°å€ï¼ˆå¦‚ `http://xxx.xxxx.com.cn`ï¼‰ï¼Œç³»ç»Ÿä¼šæ­£ç¡®å›é€€åˆ°æœ¬åœ° Mock æ•°æ®ï¼Œè¿™æ˜¯é¢„æœŸçš„è¡Œä¸ºã€‚è¦çœŸæ­£æµ‹è¯•è¿œç¨‹ä»£ç†åŠŸèƒ½ï¼Œéœ€è¦é…ç½®çœŸå®å¯ç”¨çš„æœåŠ¡å™¨åœ°å€ã€‚

### ğŸ’¡ æœ€ä½³å®è·µ

| åœºæ™¯          | å»ºè®®                                                     |
| ------------- | -------------------------------------------------------- |
| **é…ç½®æ–‡ä»¶**  | é¦–æ¬¡é…ç½®å¥½æäº¤ä¸Šåº“ä¹‹åï¼ŒapiFilteré…ç½®ä¸æäº¤ä¸Šåº“          |
| **ç±»å‹æ–‡ä»¶**  | å»ºè®®æäº¤åˆ° Gitï¼Œå›¢é˜Ÿå…±äº«ç±»å‹å®šä¹‰                         |
| **Mock æ•°æ®** | apifoxæ¥å£æœ‰å˜åŒ–æ—¶ï¼Œè‹¥å¯¹åº”ä¸šåŠ¡æœ‰è°ƒæ•´ï¼Œmockéœ€ä¸€å¹¶æäº¤å¤„ç† |
| **åˆ‡æ¢ç¯å¢ƒ**  | åç«¯å®Œæˆååªéœ€ä¿®æ”¹ä»£ç†é…ç½®ï¼Œä»£ç æ— éœ€æ”¹åŠ¨                 |

## ğŸ“ æ›´æ–°æ—¥å¿—

è¯¦è§ [CHANGELOG.md](./CHANGELOG.md) è·å–å®Œæ•´æ›´æ–°æ—¥å¿—ã€‚
`

## ğŸ¤ è´¡çŒ®

æ¬¢è¿è´¡çŒ®ä»£ç ã€æŠ¥å‘Šé—®é¢˜æˆ–æå‡ºå»ºè®®ï¼

1. Fork æœ¬ä»“åº“
2. åˆ›å»ºç‰¹æ€§åˆ†æ”¯ (`git checkout -b feature/AmazingFeature`)
3. æäº¤æ›´æ”¹ (`git commit -m 'Add some AmazingFeature'`)
4. æ¨é€åˆ°åˆ†æ”¯ (`git push origin feature/AmazingFeature`)
5. åˆ›å»º Pull Request

## ğŸ“„ License

MIT License

Copyright (c) 2025

Permission is hereby granted, free of charge, to any person obtaining a copy
of this software and associated documentation files (the "Software"), to deal
in the Software without restriction, including without limitation the rights
to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
copies of the Software, and to permit persons to whom the Software is
furnished to do so, subject to the following conditions:

The above copyright notice and this permission notice shall be included in all
copies or substantial portions of the Software.

## ğŸ™ è‡´è°¢

- [Apifox](https://www.apifox.cn/) - API è®¾è®¡ã€å¼€å‘ã€æµ‹è¯•ä¸€ä½“åŒ–åä½œå¹³å°
- [Express](https://expressjs.com/) - å¿«é€Ÿçš„ Node.js Web æ¡†æ¶
- [TypeScript](https://www.typescriptlang.org/) - JavaScript çš„è¶…é›†
- [@faker-js/faker](https://fakerjs.dev/) - ç”ŸæˆçœŸå®æ„Ÿæµ‹è¯•æ•°æ®
- [Chalk](https://github.com/chalk/chalk) - ç»ˆç«¯å½©è‰²è¾“å‡º

---

å¦‚æœ‰é—®é¢˜æˆ–å»ºè®®ï¼Œæ¬¢è¿æ [Issue](https://github.com/lukemora/apifox-mock-generator/issues)ï¼

â­ å¦‚æœè¿™ä¸ªé¡¹ç›®å¯¹ä½ æœ‰å¸®åŠ©ï¼Œè¯·ç»™ä¸€ä¸ª Starï¼
