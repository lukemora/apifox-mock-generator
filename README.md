# Apifox Mock Generator

[![npm version](https://img.shields.io/npm/v/apifox-mock-generator.svg)](https://www.npmjs.com/package/apifox-mock-generator)

ä» Apifox æ‹‰å– API æ¥å£å¹¶ç”Ÿæˆæœ¬åœ° Mock æ•°æ®å’Œ TypeScript ç±»å‹æ–‡ä»¶çš„ npm åŒ…ã€‚

## ğŸŒŸ ä¸ºä»€ä¹ˆé€‰æ‹©è¿™ä¸ªå·¥å…·ï¼Ÿ

- âš¡ **é›¶é…ç½®è·¯ç”±** - è‡ªåŠ¨å‘ç°å’ŒåŠ è½½ Mock è·¯ç”±ï¼Œæ— éœ€æ‰‹åŠ¨æ³¨å†Œ
- ğŸ”¥ **å³æ—¶ç”Ÿæ•ˆ** - çƒ­é‡è½½æ”¯æŒï¼Œä¿®æ”¹ Mock æ•°æ®ç«‹å³ç”Ÿæ•ˆ
- ğŸ¯ **ç²¾å‡†æ§åˆ¶** - å¼ºå¤§çš„ API ç­›é€‰åŠŸèƒ½ï¼ŒæœåŠ¡ç«¯ + å®¢æˆ·ç«¯åŒé‡è¿‡æ»¤
- ğŸ“ **ç±»å‹å®‰å…¨** - è‡ªåŠ¨ç”Ÿæˆ TypeScript ç±»å‹ï¼Œå¼€å‘æ›´é«˜æ•ˆ
- ğŸ¨ **ä»£ç è´¨é‡** - è‡ªåŠ¨æ ¼å¼åŒ–ï¼Œç”Ÿæˆçš„ä»£ç ç¬¦åˆæœ€ä½³å®è·µ
- ğŸ“¦ **å¼€ç®±å³ç”¨** - ä½œä¸º npm åŒ…å®‰è£…ï¼Œé›†æˆç®€å•

## âœ¨ åŠŸèƒ½ç‰¹æ€§

### æ ¸å¿ƒåŠŸèƒ½

- ğŸš€ **Apifox é›†æˆ** - è‡ªåŠ¨ä» Apifox é¡¹ç›®æ‹‰å– API æ¥å£å®šä¹‰ï¼ˆæ”¯æŒ OpenAPI 3.0ï¼‰
- ğŸ“ **ç±»å‹ç”Ÿæˆ** - ç”Ÿæˆ TypeScript ç±»å‹æ–‡ä»¶ï¼ˆ.ts æ ¼å¼ï¼‰ï¼Œæ”¯æŒå¤æ‚ç±»å‹ã€åµŒå¥—å¯¹è±¡ã€æšä¸¾ç­‰
- ğŸ­ **Apifox Mock** - **âœ¨ ç›´æ¥ä½¿ç”¨ Apifox çš„ mock è§„åˆ™**ï¼Œæ— éœ€æœ¬åœ°é…ç½®ï¼Œå®Œå…¨ç»§æ‰¿ Apifox çš„æ•°æ®ç”Ÿæˆèƒ½åŠ›
- ğŸŒ **Mock æœåŠ¡å™¨** - åŸºäº Express çš„æœ¬åœ° Mock æœåŠ¡ï¼Œå¿«é€Ÿå“åº”ï¼Œæ”¯æŒ CORS

### é«˜çº§ç‰¹æ€§

- ğŸ”¥ **çƒ­é‡è½½** - ä¿®æ”¹ Mock æ–‡ä»¶è‡ªåŠ¨ç”Ÿæ•ˆï¼Œæ— éœ€é‡å¯æœåŠ¡å™¨
- ğŸ¯ **API ç­›é€‰** - æ”¯æŒè·¯å¾„ã€æ–¹æ³•ã€æ ‡ç­¾ã€æ“ä½œ ID ç­‰å¤šç»´åº¦ç­›é€‰
- âš¡ **å¢é‡æ›´æ–°** - æ™ºèƒ½è¯†åˆ«æ–‡ä»¶å˜åŒ–ï¼Œä»…æ›´æ–°å¿…è¦å†…å®¹
- ğŸ¨ **ä»£ç æ ¼å¼åŒ–** - ä½¿ç”¨ Prettier è‡ªåŠ¨æ ¼å¼åŒ–ç”Ÿæˆçš„ä»£ç 
- ğŸ”„ **åŠ¨æ€è·¯ç”±** - è‡ªåŠ¨å‘ç°å’ŒåŠ è½½ Mock è·¯ç”±ï¼Œé›¶é…ç½®
- âœ… **å‚æ•°æ ¡éªŒ** - åŸºäº Schema çš„è¯·æ±‚å‚æ•°éªŒè¯

## ğŸ“¦ å®‰è£…

åœ¨ä½ çš„ Vue/React/ä»»æ„å‰ç«¯é¡¹ç›®ä¸­å®‰è£…ï¼š

```bash
pnpm add apifox-mock-generator -D
```

## ğŸš€ å¿«é€Ÿå¼€å§‹

### å‰ç½®æ¡ä»¶

åœ¨å¼€å§‹ä½¿ç”¨ä¹‹å‰ï¼Œè¯·ç¡®ä¿æ»¡è¶³ä»¥ä¸‹æ¡ä»¶ï¼š

- âœ… **Node.js 16+** - ç¡®ä¿å·²å®‰è£… Node.js 16 æˆ–æ›´é«˜ç‰ˆæœ¬
- âœ… **é¡¹ç›®ç¼–è¯‘** - è¿è¡Œ `npm run build` ç¼–è¯‘ TypeScript ä»£ç 
- âœ… **Apifox é…ç½®** - åˆ›å»º `apifox.config.json` é…ç½®æ–‡ä»¶
- âœ… **Mock æ–‡ä»¶ç”Ÿæˆ** - è¿è¡Œ `npm run generate` ç”Ÿæˆ Mock æ–‡ä»¶

### 1. åˆ›å»ºé…ç½®æ–‡ä»¶

åœ¨ä½ çš„é¡¹ç›®æ ¹ç›®å½•åˆ›å»º `apifox.config.json`ï¼š

```json
{
  "projectId": "YOUR_PROJECT_ID",
  "token": "YOUR_APIFOX_TOKEN",
  "mockDir": "./mock",
  "typesDir": "./src/types/api",
  "mockPort": 3000
}
```

### 2. é…ç½® package.json è„šæœ¬

```json
{
  "scripts": {
    "auto-mock": "apifox-mock generate",
    "mock:serve": "apifox-mock serve",
    "mock:dev": "apifox-mock dev"
  }
}
```

### 3. ç”Ÿæˆ Mock å’Œç±»å‹æ–‡ä»¶

```bash
npm run mock:generate
```

### 4. å¯åŠ¨ Mock æœåŠ¡å™¨

```bash
npm run mock:serve
```

> âš ï¸ **æ‰§è¡Œå‰ææ¡ä»¶**ï¼š
>
> - å¿…é¡»å…ˆè¿è¡Œ `npm run generate` ç”Ÿæˆ Mock æ–‡ä»¶
> - ç¡®ä¿ `apifox.config.json` é…ç½®æ–‡ä»¶å­˜åœ¨ä¸”é…ç½®æ­£ç¡®
> - ç¡®ä¿ `mock/` å¯¹åº”é¡¹ç›®æ ¹ç›®å½•å­˜åœ¨ä¸”åŒ…å«æœ‰æ•ˆçš„ Mock æ–‡ä»¶

### 5. é…ç½®ä»£ç†ï¼ˆVite é¡¹ç›®ï¼‰

åœ¨ `vite.config.ts` ä¸­ï¼š

```typescript
export default defineConfig({
  server: {
    proxy: {
      '/api': {
        target: 'http://localhost:3000',
        changeOrigin: true
      }
    }
  }
});
```

### 6. ä½¿ç”¨ç”Ÿæˆçš„ç±»å‹

```typescript
import type { LoginRequest, LoginResponse } from './src/types/api/auth/login';

const login = async (data: LoginRequest): Promise<LoginResponse> => {
  const response = await fetch('/api/auth/login', {
    method: 'POST',
    body: JSON.stringify(data)
  });
  return response.json();
};
```

## ğŸ”§ é…ç½®è¯´æ˜

### åŸºç¡€é…ç½®

- `projectId`: Apifox é¡¹ç›® IDï¼ˆåœ¨é¡¹ç›®è®¾ç½®ä¸­æŸ¥çœ‹ï¼‰
- `token`: Apifox API Tokenï¼ˆåœ¨è´¦å·è®¾ç½®ä¸­ç”Ÿæˆï¼‰
- `mockDir`: Mock æ–‡ä»¶ç”Ÿæˆç›®å½•ï¼ˆé»˜è®¤ï¼š`./mock`ï¼‰
- `typesDir`: TypeScript ç±»å‹æ–‡ä»¶ç”Ÿæˆç›®å½•ï¼ˆé»˜è®¤ï¼š`./src/types/api`ï¼‰
- `mockPort`: Mock æœåŠ¡å™¨ç«¯å£ï¼ˆé»˜è®¤ï¼š`3000`ï¼‰
- `apiFilter`: API ç­›é€‰é…ç½®ï¼ˆå¯é€‰ï¼‰

### API ç­›é€‰é…ç½®

é€šè¿‡ `apiFilter` é…ç½®é¡¹ï¼Œæ‚¨å¯ä»¥ç²¾ç¡®æ§åˆ¶éœ€è¦å¯¼å‡ºå’Œç”Ÿæˆçš„ API æ¥å£ã€‚æ”¯æŒ**æœåŠ¡ç«¯è¿‡æ»¤**ï¼ˆApifox APIï¼‰å’Œ**å®¢æˆ·ç«¯è¿‡æ»¤**ï¼ˆç”Ÿæˆæ—¶ï¼‰ã€‚

#### å®Œæ•´é…ç½®ç¤ºä¾‹

```json
{
  "projectId": "YOUR_PROJECT_ID",
  "token": "YOUR_APIFOX_TOKEN",
  "outputDir": "./apifox-output",
  "mockDir": "./generated/mock",
  "typesDir": "./generated/types",
  "mockPort": 3000,
  "apiFilter": {
    "scope": {
      "type": "ALL",
      "excludedByTags": ["è®¾è®¡ä¸­", "å·²åºŸå¼ƒ"]
    },
    "includePaths": ["/api/auth/**", "/api/user/**"],
    "excludePaths": ["/api/admin/**"],
    "excludeDeprecated": true,
    "includeMethods": ["GET", "POST"]
  }
}
```

#### æœåŠ¡ç«¯è¿‡æ»¤ï¼ˆApifox APIï¼‰

**`scope` é…ç½®** - æ§åˆ¶ä» Apifox å¯¼å‡ºå“ªäº›æ¥å£ï¼š

| å‚æ•°             | ç±»å‹                                       | è¯´æ˜                                                      |
| ---------------- | ------------------------------------------ | --------------------------------------------------------- |
| `type`           | `'ALL' \| 'FOLDER' \| 'TAG' \| 'API_LIST'` | å¯¼å‡ºç±»å‹ï¼šå…¨éƒ¨/æŒ‰æ–‡ä»¶å¤¹/æŒ‰æ ‡ç­¾/æŒ‰ API ID                  |
| `includedByTags` | `string[]`                                 | åŒ…å«çš„æ ‡ç­¾                                                |
| `excludedByTags` | `string[]`                                 | æ’é™¤çš„æ¥å£çŠ¶æ€ï¼ˆæ”¯æŒä¸­æ–‡ï¼š`è®¾è®¡ä¸­`ã€`å·²åºŸå¼ƒ`ã€`å¾…å®š` ç­‰ï¼‰ |
| `folderPath`     | `string`                                   | æ–‡ä»¶å¤¹è·¯å¾„ï¼ˆtype ä¸º FOLDER æ—¶ï¼‰                           |
| `apiIdList`      | `string[]`                                 | API ID åˆ—è¡¨ï¼ˆtype ä¸º API_LIST æ—¶ï¼‰                        |

> ğŸ“ **æ³¨æ„**: ç³»ç»Ÿé»˜è®¤å¯ç”¨ Apifox æ‰©å±•å±æ€§å’Œæ–‡ä»¶å¤¹æ ‡ç­¾åŠŸèƒ½ï¼Œæ— éœ€é¢å¤–é…ç½®ã€‚

#### æ¥å£çŠ¶æ€æ˜ å°„

`excludedByTags` æ”¯æŒä¸­æ–‡çŠ¶æ€é…ç½®ï¼Œç³»ç»Ÿä¼šè‡ªåŠ¨æ˜ å°„åˆ° Apifox çš„è‹±æ–‡çŠ¶æ€ï¼š

| ä¸­æ–‡çŠ¶æ€ | è‹±æ–‡çŠ¶æ€     | è¯´æ˜           |
| -------- | ------------ | -------------- |
| `è®¾è®¡ä¸­` | `designing`  | æ¥å£æ­£åœ¨è®¾è®¡ä¸­ |
| `å¼€å‘ä¸­` | `developing` | æ¥å£æ­£åœ¨å¼€å‘ä¸­ |
| `å·²å®Œæˆ` | `completed`  | æ¥å£å¼€å‘å®Œæˆ   |
| `å·²åºŸå¼ƒ` | `deprecated` | æ¥å£å·²åºŸå¼ƒ     |
| `å¾…å®š`   | `pending`    | æ¥å£çŠ¶æ€å¾…å®š   |
| `æµ‹è¯•ä¸­` | `testing`    | æ¥å£æ­£åœ¨æµ‹è¯•   |
| `å·²å‘å¸ƒ` | `published`  | æ¥å£å·²å‘å¸ƒ     |

#### å®¢æˆ·ç«¯è¿‡æ»¤ï¼ˆç”Ÿæˆæ—¶ï¼‰

åœ¨ç”Ÿæˆ Mock å’Œç±»å‹æ–‡ä»¶æ—¶è¿›è¡ŒäºŒæ¬¡è¿‡æ»¤ï¼š

| å‚æ•°                  | ç±»å‹       | è¯´æ˜                                      |
| --------------------- | ---------- | ----------------------------------------- |
| `includePaths`        | `string[]` | åªåŒ…å«è¿™äº›è·¯å¾„ï¼ˆæ”¯æŒ `*` å’Œ `**` é€šé…ç¬¦ï¼‰ |
| `excludePaths`        | `string[]` | æ’é™¤è¿™äº›è·¯å¾„                              |
| `includeOperationIds` | `string[]` | åªåŒ…å«è¿™äº› operationId                    |
| `excludeOperationIds` | `string[]` | æ’é™¤è¿™äº› operationId                      |
| `excludeDeprecated`   | `boolean`  | æ’é™¤åºŸå¼ƒçš„æ¥å£                            |
| `includeMethods`      | `string[]` | åªåŒ…å«è¿™äº› HTTP æ–¹æ³•                      |
| `excludeMethods`      | `string[]` | æ’é™¤è¿™äº› HTTP æ–¹æ³•                        |

#### å¸¸ç”¨åœºæ™¯

**åœºæ™¯ 1ï¼šå¯¼å‡ºæ‰€æœ‰æ¥å£ï¼Œæ’é™¤å·²åºŸå¼ƒ**

```json
{
  "apiFilter": {
    "scope": {
      "type": "ALL",
      "excludedByTags": ["å·²åºŸå¼ƒ"]
    }
  }
}
```

**åœºæ™¯ 2ï¼šåªå¯¼å‡ºæŒ‡å®šæ–‡ä»¶å¤¹**

```json
{
  "apiFilter": {
    "scope": {
      "type": "FOLDER",
      "folderPath": "ç”¨æˆ·æ¨¡å—/ç”¨æˆ·ç®¡ç†"
    }
  }
}
```

**åœºæ™¯ 3ï¼šæŒ‰æ ‡ç­¾å¯¼å‡º**

```json
{
  "apiFilter": {
    "scope": {
      "type": "TAG",
      "includedByTags": ["ç”¨æˆ·ç®¡ç†", "å•†å“ç®¡ç†"]
    }
  }
}
```

**åœºæ™¯ 4ï¼šæœåŠ¡ç«¯ + å®¢æˆ·ç«¯åŒé‡è¿‡æ»¤**

```json
{
  "apiFilter": {
    "scope": {
      "type": "ALL",
      "excludedByTags": ["å·²åºŸå¼ƒ"]
    },
    "includePaths": ["/api/v1/**"],
    "excludeMethods": ["DELETE"]
  }
}
```

### è·å– Apifox Token

1. ç™»å½• [Apifox](https://www.apifox.cn/)
2. è¿›å…¥ã€Œä¸ªäººè®¾ç½®ã€â†’ã€Œè®¿é—®ä»¤ç‰Œã€
3. åˆ›å»ºæ–°çš„è®¿é—®ä»¤ç‰Œ
4. å¤åˆ¶ Token åˆ° `apifox.config.json`

## ğŸ“– CLI å‘½ä»¤

å®‰è£…åï¼Œä½ å¯ä»¥ä½¿ç”¨ `apifox-mock` å‘½ä»¤ï¼š

```bash
# ç”Ÿæˆ Mock å’Œç±»å‹æ–‡ä»¶
apifox-mock generate

# å¯åŠ¨ Mock æœåŠ¡å™¨
apifox-mock serve

# å¼€å‘æ¨¡å¼ï¼ˆç”Ÿæˆ + æœåŠ¡ï¼‰
apifox-mock dev
```

æˆ–è€…é€šè¿‡ npm scriptsï¼š

```bash
npm run mock:generate
npm run mock:serve
npm run mock:dev
```

## ğŸ¯ é«˜çº§ç”¨æ³•

### ğŸ­ Apifox Mock è§„åˆ™

æœ¬å·¥å…·**ç›´æ¥ä½¿ç”¨ Apifox ä¸­é…ç½®çš„ mock è§„åˆ™**ï¼Œæ— éœ€åœ¨æœ¬åœ°é‡å¤é…ç½®ã€‚åªéœ€åœ¨ Apifox ä¸­è®¾ç½®å¥½å­—æ®µçš„ mock è§„åˆ™ï¼Œç”Ÿæˆæ—¶ä¼šè‡ªåŠ¨åº”ç”¨ã€‚

#### å·¥ä½œåŸç†

1. **åœ¨ Apifox ä¸­é…ç½®** - ä¸ºæ¯ä¸ªå­—æ®µè®¾ç½® mock è§„åˆ™ï¼ˆæ”¯æŒ Mock.js è¯­æ³•å’Œ Apifox æ¨¡æ¿è¯­æ³•ï¼‰
2. **è‡ªåŠ¨æ‹‰å–è§„åˆ™** - å¯ç”¨ `includeApifoxExtensionProperties` åï¼Œå¯¼å‡ºçš„ OpenAPI æ•°æ®ä¸­ä¼šåŒ…å« `x-apifox-mock` æ‰©å±•å­—æ®µ
3. **æ™ºèƒ½è½¬æ¢** - è‡ªåŠ¨å°† Apifox æ¨¡æ¿è¯­æ³•ï¼ˆå¦‚ `{{$string.uuid}}`ï¼‰è½¬æ¢ä¸º Mock.js è¯­æ³•ï¼ˆå¦‚ `@guid`ï¼‰
4. **ç”Ÿæˆ Mock æ–‡ä»¶** - å·¥å…·è‡ªåŠ¨æå–å¹¶è½¬æ¢ Apifox çš„ mock è§„åˆ™ï¼Œç”Ÿæˆæœ¬åœ° Mock æ–‡ä»¶

#### ç¤ºä¾‹

åœ¨ Apifox ä¸­é…ç½®å­—æ®µçš„ mock è§„åˆ™ï¼š

```
å­—æ®µå: id
ç±»å‹: string
Mock è§„åˆ™: {{$string.uuid}}     â† Apifox æ¨¡æ¿è¯­æ³•

å­—æ®µå: name
ç±»å‹: string
Mock è§„åˆ™: {{$person.fullName(locale='zh_CN')}}

å­—æ®µå: code
ç±»å‹: number
Mock è§„åˆ™: @integer(0, 999)     â† Mock.js è¯­æ³•
```

ç”Ÿæˆçš„ Mock æ–‡ä»¶ä¼šè‡ªåŠ¨è½¬æ¢ï¼š

```javascript
Mock.mock({
  code: '@integer(0, 999)', // ç›´æ¥ä½¿ç”¨ Mock.js è§„åˆ™
  data: {
    id: '@guid', // {{$string.uuid}} â†’ @guid
    name: '@cname', // {{$person.fullName(locale='zh_CN')}} â†’ @cname
    email: '@email' // ç›´æ¥ä½¿ç”¨ Mock.js è§„åˆ™
  }
});
```

#### ä¼˜åŠ¿

- âœ… **ç»Ÿä¸€ç®¡ç†** - åœ¨ Apifox ä¸­ç»Ÿä¸€ç®¡ç†æ‰€æœ‰ mock è§„åˆ™ï¼Œå›¢é˜Ÿåä½œæ›´æ–¹ä¾¿
- âœ… **å®Œå…¨ä¸€è‡´** - æœ¬åœ° Mock æ•°æ®ä¸ Apifox äº‘ç«¯ Mock ä¿æŒä¸€è‡´
- âœ… **æ™ºèƒ½è½¬æ¢** - è‡ªåŠ¨è½¬æ¢ Apifox æ¨¡æ¿è¯­æ³•ä¸º Mock.js è¯­æ³•ï¼Œæ— ç¼å…¼å®¹
- âœ… **åŒè¯­æ³•æ”¯æŒ** - åŒæ—¶æ”¯æŒ Mock.js è¯­æ³•ï¼ˆ`@xxx`ï¼‰å’Œ Apifox æ¨¡æ¿è¯­æ³•ï¼ˆ`{{$xxx}}`ï¼‰

#### å›é€€ç­–ç•¥

å¦‚æœå­—æ®µæ²¡æœ‰é…ç½® Apifox mock è§„åˆ™ï¼Œä¼šä½¿ç”¨ä»¥ä¸‹å›é€€ç­–ç•¥ï¼š

1. **ç¤ºä¾‹å€¼** - ä½¿ç”¨ schema ä¸­å®šä¹‰çš„ `example`
2. **æšä¸¾å€¼** - ä½¿ç”¨ `enum` ä¸­çš„å€¼ï¼ˆé€šè¿‡ `@pick` éšæœºé€‰æ‹©ï¼‰
3. **åŸºæœ¬è§„åˆ™** - æ ¹æ®å­—æ®µç±»å‹ä½¿ç”¨ç®€å•çš„é»˜è®¤è§„åˆ™ï¼ˆå¦‚å­—ç¬¦ä¸²ç”¨ `@cword(3,8)`ï¼‰

### è‡ªå®šä¹‰ Mock æ•°æ®

ä¿®æ”¹ç”Ÿæˆçš„ Mock æ–‡ä»¶ï¼ˆå¦‚ `mock/api/auth/login.js`ï¼‰ï¼š

```javascript
export default {
  method: 'POST',
  path: '/api/auth/login',
  response: {
    code: 0,
    message: 'success',
    data: {
      token: 'custom-token-12345', // è‡ªå®šä¹‰æ•°æ®
      userId: 10086
    }
  }
};
```

> âš ï¸ æ³¨æ„ï¼šé‡æ–°è¿è¡Œ `apifox-mock generate` ä¼šè¦†ç›–è‡ªå®šä¹‰çš„ä¿®æ”¹

### çƒ­é‡è½½

Mock æœåŠ¡å™¨æ”¯æŒçƒ­é‡è½½ï¼Œä¿®æ”¹ Mock æ–‡ä»¶åä¼šè‡ªåŠ¨ç”Ÿæ•ˆï¼Œæ— éœ€é‡å¯ï¼š

```bash
npm run mock:serve
# ä¿®æ”¹ mock æ–‡ä»¶ï¼Œä¿å­˜åç«‹å³ç”Ÿæ•ˆ
```

## ğŸ”„ å·¥ä½œæµç¨‹

### æ¶æ„è¯´æ˜

ä½œä¸º npm åŒ…å®‰è£…åˆ°ä½ çš„é¡¹ç›®ä¸­ï¼Œå·¥ä½œæ¨¡å¼å¦‚ä¸‹ï¼š

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                 ä½ çš„å‰ç«¯é¡¹ç›® (å¦‚ Vue)                        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚  Apifox å¹³å°                                          â”‚  â”‚
â”‚  â”‚  OpenAPI æ•°æ®                                         â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                  â”‚ â‘  æ‹‰å– API                              â”‚
â”‚                  â†“                                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚  apifox-mock-generator (npm åŒ…)                      â”‚  â”‚
â”‚  â”‚  â€¢ apifox-mock generate  - ç”Ÿæˆæ–‡ä»¶                  â”‚  â”‚
â”‚  â”‚  â€¢ apifox-mock serve     - å¯åŠ¨æœåŠ¡å™¨                â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                  â”‚ â‘¡ ç”Ÿæˆ                                  â”‚
â”‚                  â†“                                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚  ç”Ÿæˆçš„æ–‡ä»¶                                           â”‚  â”‚
â”‚  â”‚  â€¢ mock/        - Mock æ•°æ®æ–‡ä»¶                      â”‚  â”‚
â”‚  â”‚  â€¢ src/types/api/ - TypeScript ç±»å‹                  â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”˜  â”‚
â”‚         â”‚                                            â”‚      â”‚
â”‚         â”‚ â‘¢ å¯¼å…¥ç±»å‹                                 â”‚ â‘£ æä¾› Mock æ•°æ®
â”‚         â†“                                            â†“      â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚  å‰ç«¯ä»£ç        â”‚    HTTP è¯·æ±‚     â”‚  Mock æœåŠ¡å™¨    â”‚  â”‚
â”‚  â”‚ (localhost:5173)â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€>  â”‚ (localhost:3000)â”‚  â”‚
â”‚  â”‚                 â”‚  /api/**         â”‚                 â”‚  â”‚
â”‚  â”‚  â€¢ ä¸šåŠ¡é€»è¾‘     â”‚                  â”‚  â€¢ Express æœåŠ¡ â”‚  â”‚
â”‚  â”‚  â€¢ API è°ƒç”¨     â”‚  <â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚  â€¢ Mock å“åº”    â”‚  â”‚
â”‚  â”‚  â€¢ TS ç±»å‹      â”‚    Mock æ•°æ®     â”‚  â€¢ çƒ­é‡è½½       â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚         â†‘                                                   â”‚
â”‚         â”‚ â‘¤ Vite/Webpack ä»£ç†è½¬å‘                          â”‚
â”‚         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### è¯¦ç»†æ­¥éª¤

#### 1ï¸âƒ£ å®‰è£…å¹¶é…ç½®

```bash
# åœ¨ä½ çš„ Vue é¡¹ç›®ç›®å½•
npm install apifox-mock-generator --save-dev

# åˆ›å»ºé…ç½®æ–‡ä»¶
vim apifox.config.json

# é…ç½® package.json
```

#### 2ï¸âƒ£ ç”Ÿæˆæ–‡ä»¶

```bash
npm run mock:generate
```

æ‰§è¡Œè¿‡ç¨‹ï¼š

- ä» Apifox æ‹‰å– API å®šä¹‰
- åº”ç”¨ç­›é€‰è§„åˆ™
- ç”Ÿæˆ TypeScript ç±»å‹ â†’ `src/types/api/`
- ç”Ÿæˆ Mock æ•°æ® â†’ `mock/`

#### 3ï¸âƒ£ å¯åŠ¨ Mock æœåŠ¡å™¨

```bash
npm run mock:serve
```

åœ¨ç«¯å£ 3000 å¯åŠ¨ Express æœåŠ¡å™¨ã€‚

#### 4ï¸âƒ£ é…ç½®å‰ç«¯ä»£ç†

```typescript
// vite.config.ts
export default defineConfig({
  server: {
    proxy: {
      '/api': {
        target: 'http://localhost:3000',
        changeOrigin: true
      }
    }
  }
});
```

#### 5ï¸âƒ£ åœ¨ä»£ç ä¸­ä½¿ç”¨

```typescript
// å¯¼å…¥ç±»å‹
import type { LoginRequest, LoginResponse } from '@/types/api/auth/login';

// å‘èµ·è¯·æ±‚ï¼ˆè‡ªåŠ¨ä»£ç†åˆ° Mock æœåŠ¡å™¨ï¼‰
const response = await fetch('/api/auth/login', {
  method: 'POST',
  body: JSON.stringify(data)
});
```

### é¡¹ç›®ç»“æ„

å®‰è£…åï¼Œä½ çš„é¡¹ç›®ç»“æ„ï¼š

```
your-vue-project/
â”œâ”€â”€ node_modules/
â”‚   â””â”€â”€ apifox-mock-generator/   # npm åŒ…
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ types/
â”‚   â”‚   â””â”€â”€ api/                 # âœ¨ ç”Ÿæˆçš„ç±»å‹æ–‡ä»¶
â”‚   â”‚       â”œâ”€â”€ auth/
â”‚   â”‚       â”‚   â””â”€â”€ login.ts
â”‚   â”‚       â””â”€â”€ user/
â”‚   â”‚           â””â”€â”€ info.ts
â”‚   â””â”€â”€ components/
â”œâ”€â”€ mock/                        # âœ¨ ç”Ÿæˆçš„ Mock æ–‡ä»¶
â”‚   â””â”€â”€ api/
â”‚       â”œâ”€â”€ auth/
â”‚       â”‚   â””â”€â”€ login.js
â”‚       â””â”€â”€ user/
â”‚           â””â”€â”€ info.js
â”œâ”€â”€ apifox.config.json          # âš™ï¸ é…ç½®æ–‡ä»¶
â”œâ”€â”€ vite.config.ts              # é…ç½®ä»£ç†
â””â”€â”€ package.json
```

### ä¼˜åŠ¿

âœ… **é›†æˆç®€å•** - ä½œä¸º npm åŒ…å®‰è£…ï¼Œæ— éœ€å•ç‹¬é¡¹ç›®  
âœ… **ç±»å‹å®‰å…¨** - ç”Ÿæˆçš„ç±»å‹æ–‡ä»¶ç›´æ¥åœ¨é¡¹ç›®ä¸­ä½¿ç”¨  
âœ… **çœŸå®ç¯å¢ƒ** - é€šè¿‡ HTTP Mockï¼Œå®Œå…¨æ¨¡æ‹ŸçœŸå® API  
âœ… **çƒ­é‡è½½** - ä¿®æ”¹ Mock æ•°æ®ç«‹å³ç”Ÿæ•ˆ  
âœ… **å›¢é˜Ÿåä½œ** - é…ç½®å’Œç±»å‹å¯ä»¥æäº¤åˆ° Git å…±äº«

## ğŸ“ é¡¹ç›®ç»“æ„

```
apifox-mock-generator/
â”œâ”€â”€ src/                           # æºä»£ç 
â”‚   â”œâ”€â”€ core/                      # æ ¸å¿ƒæ¨¡å—
â”‚   â”‚   â”œâ”€â”€ apifox-client.ts       # Apifox API å®¢æˆ·ç«¯
â”‚   â”‚   â”œâ”€â”€ config-loader.ts       # é…ç½®åŠ è½½å™¨
â”‚   â”‚   â”œâ”€â”€ endpoint-filter.ts     # ç«¯ç‚¹è¿‡æ»¤å™¨
â”‚   â”‚   â””â”€â”€ openapi-converter.ts   # OpenAPI è½¬æ¢å™¨
â”‚   â”œâ”€â”€ generators/                # ç”Ÿæˆå™¨æ¨¡å—
â”‚   â”‚   â”œâ”€â”€ templates/             # æ¨¡æ¿ç”Ÿæˆ
â”‚   â”‚   â”‚   â”œâ”€â”€ mock-template.ts   # Mock æ–‡ä»¶æ¨¡æ¿ï¼ˆä½¿ç”¨ Apifox mock è§„åˆ™ï¼‰
â”‚   â”‚   â”‚   â””â”€â”€ type-template.ts   # TypeScript ç±»å‹æ¨¡æ¿
â”‚   â”‚   â”œâ”€â”€ mock-generator.ts      # Mock æ–‡ä»¶ç”Ÿæˆå™¨
â”‚   â”‚   â””â”€â”€ type-generator.ts      # ç±»å‹æ–‡ä»¶ç”Ÿæˆå™¨
â”‚   â”œâ”€â”€ server/                    # Mock æœåŠ¡å™¨æ¨¡å—
â”‚   â”‚   â”œâ”€â”€ express-server.ts      # Express æœåŠ¡å™¨é…ç½®
â”‚   â”‚   â”œâ”€â”€ hot-reload.ts          # çƒ­é‡è½½åŠŸèƒ½
â”‚   â”‚   â”œâ”€â”€ route-loader.ts        # è·¯ç”±åŠ è½½å™¨
â”‚   â”‚   â”œâ”€â”€ route-manager.ts       # è·¯ç”±ç®¡ç†å™¨
â”‚   â”‚   â”œâ”€â”€ route-matcher.ts       # è·¯ç”±åŒ¹é…å™¨
â”‚   â”‚   â””â”€â”€ validation.ts          # å‚æ•°æ ¡éªŒ
â”‚   â”œâ”€â”€ utils/                     # å·¥å…·å‡½æ•°
â”‚   â”‚   â”œâ”€â”€ block-updater.ts       # å¢é‡æ›´æ–°å·¥å…·
â”‚   â”‚   â”œâ”€â”€ code-formatter.ts      # ä»£ç æ ¼å¼åŒ–
â”‚   â”‚   â”œâ”€â”€ file-operations.ts     # æ–‡ä»¶æ“ä½œ
â”‚   â”‚   â”œâ”€â”€ file-helper.ts         # æ–‡ä»¶åŠ©æ‰‹ï¼ˆç»Ÿä¸€å¯¼å‡ºï¼‰
â”‚   â”‚   â”œâ”€â”€ logger.ts              # æ—¥å¿—å·¥å…·
â”‚   â”‚   â”œâ”€â”€ path-utils.ts          # è·¯å¾„å·¥å…·
â”‚   â”‚   â””â”€â”€ type-mapping.ts        # ç±»å‹æ˜ å°„
â”‚   â”œâ”€â”€ scripts/                   # è„šæœ¬å…¥å£
â”‚   â”‚   â”œâ”€â”€ generate-mock.ts       # ç”Ÿæˆè„šæœ¬ä¸»å…¥å£
â”‚   â”‚   â””â”€â”€ serve-mock.ts          # æœåŠ¡å™¨è„šæœ¬ä¸»å…¥å£
â”‚   â”œâ”€â”€ types/                     # ç±»å‹å®šä¹‰
â”‚   â”‚   â””â”€â”€ index.ts               # å…¬å…±ç±»å‹
â”‚   â””â”€â”€ index.ts                   # åŒ…å…¥å£æ–‡ä»¶
â”œâ”€â”€ generated/                     # ç”Ÿæˆçš„æ–‡ä»¶ï¼ˆè‡ªåŠ¨ï¼‰
â”‚   â”œâ”€â”€ mock/                      # Mock æ•°æ®
â”‚   â””â”€â”€ types/                     # TypeScript ç±»å‹
â”œâ”€â”€ dist/                          # ç¼–è¯‘è¾“å‡º
â”œâ”€â”€ apifox.config.json             # é…ç½®æ–‡ä»¶
â”œâ”€â”€ package.json
â””â”€â”€ tsconfig.json
```

### ğŸ—ï¸ æ¶æ„è®¾è®¡

é¡¹ç›®é‡‡ç”¨**æ¨¡å—åŒ–åˆ†å±‚æ¶æ„**ï¼ŒèŒè´£æ¸…æ™°åˆ†ç¦»ï¼š

| å±‚çº§       | ç›®å½•          | èŒè´£                                          |
| ---------- | ------------- | --------------------------------------------- |
| **æ ¸å¿ƒå±‚** | `core/`       | Apifox API äº¤äº’ã€é…ç½®åŠ è½½ã€OpenAPI è½¬æ¢å’Œè¿‡æ»¤ |
| **ç”Ÿæˆå±‚** | `generators/` | Mock å’Œ TypeScript ç±»å‹ç”Ÿæˆã€ä»£ç æ¨¡æ¿         |
| **æœåŠ¡å±‚** | `server/`     | Express æœåŠ¡å™¨ã€åŠ¨æ€è·¯ç”±ã€çƒ­é‡è½½ã€å‚æ•°æ ¡éªŒ    |
| **å·¥å…·å±‚** | `utils/`      | æ–‡ä»¶æ“ä½œã€å¢é‡æ›´æ–°ã€ä»£ç æ ¼å¼åŒ–ã€æ—¥å¿—è¾“å‡º      |
| **è„šæœ¬å±‚** | `scripts/`    | CLI å‘½ä»¤å…¥å£ï¼ˆgenerateã€serveï¼‰               |
| **ç±»å‹å±‚** | `types/`      | å…¬å…± TypeScript ç±»å‹å®šä¹‰                      |

## ğŸ› ï¸ è„šæœ¬è¯´æ˜

| å‘½ä»¤               | è¯´æ˜                                        |
| ------------------ | ------------------------------------------- |
| `npm run build`    | ç¼–è¯‘ TypeScript ä»£ç                         |
| `npm run generate` | ä¸€é”®ç”Ÿæˆï¼ˆæ‹‰å– API + ç”Ÿæˆ Mock + ç”Ÿæˆç±»å‹ï¼‰ |
| `npm run serve`    | å¯åŠ¨ Mock æœåŠ¡å™¨                            |
| `npm run dev`      | å¼€å‘æ¨¡å¼ï¼ˆgenerate + serveï¼‰                |

## ğŸ“š æŠ€æœ¯æ ˆ

- **è¯­è¨€**: TypeScript 5.3+
- **è¿è¡Œæ—¶**: Node.js 16+
- **Web æ¡†æ¶**: Express 4.x
- **HTTP å®¢æˆ·ç«¯**: Axios
- **Mock æ•°æ®**: @faker-js/faker, Mock.js
- **æ–‡ä»¶ç›‘å¬**: Chokidar
- **ä»£ç æ ¼å¼åŒ–**: Prettier
- **æ—¥å¿—å·¥å…·**: Chalk
- **API å·¥å…·**: Apifox CLI

## âš ï¸ å·²çŸ¥é™åˆ¶

å½“å‰ç‰ˆæœ¬æš‚ä¸æ”¯æŒä»¥ä¸‹ç‰¹æ€§ï¼š

- âš ï¸ OpenAPI 2.0 (Swagger) - ä»…æ”¯æŒ OpenAPI 3.0
- âš ï¸ æ–‡ä»¶ä¸Šä¼ /ä¸‹è½½ç±»å‹
- âš ï¸ WebSocket åè®®
- âš ï¸ GraphQL

## ğŸ’¡ å¸¸è§é—®é¢˜

### 1. æ‹‰å– API å¤±è´¥ï¼Ÿ

æ£€æŸ¥ï¼š

- `projectId` å’Œ `token` æ˜¯å¦æ­£ç¡®
- Token æ˜¯å¦æœ‰ã€Œé¡¹ç›®ç»´æŠ¤è€…ã€æˆ–ã€Œç®¡ç†å‘˜ã€æƒé™
- ç½‘ç»œè¿æ¥æ˜¯å¦æ­£å¸¸

### 2. ç«¯å£è¢«å ç”¨ï¼Ÿ

ä¿®æ”¹ `apifox.config.json` ä¸­çš„ `mockPort` é…ç½®ã€‚

### 3. æ²¡æœ‰ç”Ÿæˆä»»ä½•æ–‡ä»¶ï¼Ÿ

æ£€æŸ¥ï¼š

- `apiFilter` ç­›é€‰è§„åˆ™æ˜¯å¦è¿‡äºä¸¥æ ¼
- Apifox é¡¹ç›®ä¸­æ˜¯å¦æœ‰åŒ¹é…çš„æ¥å£
- æŸ¥çœ‹ç»ˆç«¯è¾“å‡ºçš„é”™è¯¯ä¿¡æ¯
- ç¡®è®¤ Apifox Token æ˜¯å¦æœ‰æ­£ç¡®çš„æƒé™

### 4. ç±»å‹ç”Ÿæˆä¸å‡†ç¡®ï¼Ÿ

å»ºè®®ï¼š

- åœ¨ Apifox ä¸­å®Œå–„æ¥å£çš„æ•°æ®æ¨¡å‹å®šä¹‰
- ä½¿ç”¨ JSON Schema å®šä¹‰æ¸…æ™°çš„æ•°æ®ç»“æ„
- ä¸ºæ¯ä¸ªå­—æ®µæ·»åŠ æè¿°å’Œç¤ºä¾‹

### 5. çƒ­é‡è½½ä¸ç”Ÿæ•ˆï¼Ÿ

ç¡®è®¤ï¼š

- Mock æ–‡ä»¶ä¿å­˜æˆåŠŸ
- æŸ¥çœ‹ç»ˆç«¯æ˜¯å¦æœ‰æ–‡ä»¶å˜åŒ–çš„æç¤º
- æ£€æŸ¥æ–‡ä»¶è·¯å¾„æ˜¯å¦åœ¨ `mockDir` é…ç½®çš„ç›®å½•ä¸‹

### 6. å¯åŠ¨ Mock æœåŠ¡å™¨å¤±è´¥ï¼Ÿ

æ£€æŸ¥ä»¥ä¸‹æ¡ä»¶ï¼š

- âœ… **é…ç½®æ–‡ä»¶å­˜åœ¨** - ç¡®ä¿ `apifox.config.json` åœ¨é¡¹ç›®æ ¹ç›®å½•
- âœ… **Mock ç›®å½•å­˜åœ¨** - ç¡®ä¿ `mock/` ç›®å½•å­˜åœ¨ä¸”ä¸ä¸ºç©º
- âœ… **é¡¹ç›®å·²ç¼–è¯‘** - è¿è¡Œ `npm run build` ç¼–è¯‘ä»£ç 
- âœ… **Mock æ–‡ä»¶å·²ç”Ÿæˆ** - å…ˆè¿è¡Œ `npm run generate` ç”Ÿæˆ Mock æ–‡ä»¶
- âœ… **ç«¯å£æœªè¢«å ç”¨** - æ£€æŸ¥ `mockPort` é…ç½®çš„ç«¯å£æ˜¯å¦å¯ç”¨

å¸¸è§é”™è¯¯åŠè§£å†³æ–¹æ¡ˆï¼š

```bash
# é”™è¯¯ï¼šæœªæ‰¾åˆ° apifox.config.json é…ç½®æ–‡ä»¶
# è§£å†³ï¼šåˆ›å»ºé…ç½®æ–‡ä»¶
cp apifox.config.json.example apifox.config.json

# é”™è¯¯ï¼šæœªæ‰¾åˆ° Mock ç›®å½•
# è§£å†³ï¼šå…ˆç”Ÿæˆ Mock æ–‡ä»¶
npm run generate

# é”™è¯¯ï¼šæœªæ‰¾åˆ°ä»»ä½• Mock æ–‡ä»¶
# è§£å†³ï¼šæ£€æŸ¥ API ç­›é€‰é…ç½®ï¼Œç¡®ä¿æœ‰åŒ¹é…çš„æ¥å£
```

## ğŸ¤ ä¸åŒæ¡†æ¶çš„é…ç½®ç¤ºä¾‹

### Vue CLI é¡¹ç›®

```javascript
// vue.config.js
module.exports = {
  devServer: {
    proxy: {
      '/api': {
        target: 'http://localhost:3000',
        changeOrigin: true
      }
    }
  }
};
```

### React (Create React App)

```javascript
// package.json
{
  "proxy": "http://localhost:3000"
}
```

æˆ–ä½¿ç”¨ `http-proxy-middleware`ï¼š

```javascript
// src/setupProxy.js
const { createProxyMiddleware } = require('http-proxy-middleware');

module.exports = function (app) {
  app.use(
    '/api',
    createProxyMiddleware({
      target: 'http://localhost:3000',
      changeOrigin: true
    })
  );
};
```

### Next.js

```javascript
// next.config.js
module.exports = {
  async rewrites() {
    return [
      {
        source: '/api/:path*',
        destination: 'http://localhost:3000/api/:path*'
      }
    ];
  }
};
```

### é…ç½® .gitignore

å»ºè®®å°†ä»¥ä¸‹æ–‡ä»¶æ·»åŠ åˆ° `.gitignore`ï¼š

```gitignore
# Apifox é…ç½®ï¼ˆåŒ…å«æ•æ„Ÿ tokenï¼‰
apifox.config.json

# ç”Ÿæˆçš„ Mock æ–‡ä»¶ï¼ˆå¯é€‰ï¼‰
mock/

# ç”Ÿæˆçš„ç±»å‹æ–‡ä»¶å»ºè®®æäº¤ï¼Œæ–¹ä¾¿å›¢é˜Ÿå…±äº«
# src/types/api/
```

### ğŸ’¡ æœ€ä½³å®è·µ

| åœºæ™¯          | å»ºè®®                                                |
| ------------- | --------------------------------------------------- |
| **é…ç½®æ–‡ä»¶**  | `apifox.config.json` ä¸è¦æäº¤ï¼Œæä¾› `.example` ç¤ºä¾‹ |
| **ç±»å‹æ–‡ä»¶**  | å»ºè®®æäº¤åˆ° Gitï¼Œå›¢é˜Ÿå…±äº«ç±»å‹å®šä¹‰                    |
| **Mock æ•°æ®** | å¯ä»¥ä¸æäº¤ï¼Œæ¯ä¸ªå¼€å‘è€…è‡ªè¡Œç”Ÿæˆ                      |
| **åˆ‡æ¢ç¯å¢ƒ**  | åç«¯å®Œæˆååªéœ€ä¿®æ”¹ä»£ç†é…ç½®ï¼Œä»£ç æ— éœ€æ”¹åŠ¨            |

## ğŸ“ æ›´æ–°æ—¥å¿—

### v1.1.0 (2025-10-13)

#### ğŸ¯ æ ¸å¿ƒåŠŸèƒ½

- ğŸ­ **ç›´æ¥ä½¿ç”¨ Apifox Mock è§„åˆ™** - ä½¿ç”¨ Apifox ä¸­é…ç½®çš„ mock è§„åˆ™ï¼Œæœ¬åœ°ä¸äº‘ç«¯ä¿æŒå®Œå…¨ä¸€è‡´
- ğŸ”„ **ç»Ÿä¸€ç®¡ç†** - Mock è§„åˆ™åœ¨ Apifox å¹³å°ç»Ÿä¸€ç®¡ç†ï¼Œå›¢é˜Ÿåä½œæ›´æ–¹ä¾¿

#### âœ¨ æ–°åŠŸèƒ½

- âœ… æ”¯æŒ Apifox çš„ `x-apifox-mock` æ‰©å±•å­—æ®µï¼Œæå– mock è§„åˆ™
- âœ… æ™ºèƒ½è½¬æ¢ Apifox æ¨¡æ¿è¯­æ³•ï¼ˆ`{{$xxx}}`ï¼‰ä¸º Mock.js è¯­æ³•ï¼ˆ`@xxx`ï¼‰
- âœ… åŒæ—¶æ”¯æŒ Mock.js å’Œ Apifox ä¸¤ç§è¯­æ³•
- âœ… å®Œå–„çš„å›é€€ç­–ç•¥ï¼ˆç¤ºä¾‹å€¼ â†’ æšä¸¾å€¼ â†’ åŸºæœ¬è§„åˆ™ï¼‰

#### ğŸ“– æ–‡æ¡£æ›´æ–°

- æ–°å¢"Apifox Mock è§„åˆ™"ç« èŠ‚ï¼Œè¯´æ˜ä½¿ç”¨æ–¹æ³•
- æ›´æ–°é¡¹ç›®ç»“æ„è¯´æ˜

### v1.0.0 (2025-10-10)

#### æ ¸å¿ƒåŠŸèƒ½

- ğŸš€ **Apifox API å®¢æˆ·ç«¯** - ä» Apifox é¡¹ç›®æ‹‰å– API æ¥å£å®šä¹‰
- ğŸ“ **ç±»å‹ç”Ÿæˆå™¨** - è‡ªåŠ¨ç”Ÿæˆ TypeScript ç±»å‹æ–‡ä»¶ï¼ˆ.ts æ ¼å¼ï¼‰
- ğŸ­ **Mock ç”Ÿæˆå™¨** - åŸºäº Schema è‡ªåŠ¨ç”Ÿæˆ Mock æ•°æ®æ–‡ä»¶
- ğŸŒ **Mock æœåŠ¡å™¨** - åŸºäº Express çš„æœ¬åœ° Mock æœåŠ¡
- ğŸ”¥ **çƒ­é‡è½½** - ä¿®æ”¹ Mock æ–‡ä»¶è‡ªåŠ¨ç”Ÿæ•ˆï¼Œæ— éœ€é‡å¯æœåŠ¡å™¨

#### é«˜çº§ç‰¹æ€§

- ğŸ¯ **API ç­›é€‰** - æ”¯æŒè·¯å¾„ã€æ–¹æ³•ã€æ ‡ç­¾ã€æ“ä½œ ID ç­‰å¤šç»´åº¦ç­›é€‰
- âš¡ **å¢é‡æ›´æ–°** - æ™ºèƒ½è¯†åˆ«æ–‡ä»¶å˜åŒ–ï¼Œä»…æ›´æ–°å¿…è¦çš„å†…å®¹
- ğŸ¨ **ä»£ç æ ¼å¼åŒ–** - ä½¿ç”¨ Prettier æ ¼å¼åŒ–ç”Ÿæˆçš„ä»£ç 
- ğŸ”„ **åŠ¨æ€è·¯ç”±** - è‡ªåŠ¨å‘ç°å’ŒåŠ è½½ Mock è·¯ç”±ï¼Œé›¶é…ç½®
- â±ï¸ **å»¶è¿Ÿæ¨¡æ‹Ÿ** - é€šè¿‡ `?_delay=1000` å‚æ•°æ¨¡æ‹Ÿç½‘ç»œå»¶è¿Ÿ
- âœ… **å‚æ•°æ ¡éªŒ** - åŸºäº Schema çš„è¯·æ±‚å‚æ•°éªŒè¯

#### æ”¯æŒçš„ç‰¹æ€§

- âœ… OpenAPI 3.0 è§„èŒƒ
- âœ… HTTP æ–¹æ³•ï¼šGETã€POSTã€PUTã€DELETEã€PATCH
- âœ… è·¯å¾„å‚æ•°ã€æŸ¥è¯¢å‚æ•°ã€è¯·æ±‚ä½“ã€å“åº”ä½“
- âœ… å¤æ‚å¯¹è±¡ã€æ•°ç»„ã€æšä¸¾ã€åµŒå¥—ç±»å‹
- âœ… Schema å¼•ç”¨ ($ref)ã€allOf / anyOf / oneOf

è¯¦è§ [CHANGELOG.md](./CHANGELOG.md) è·å–å®Œæ•´æ›´æ–°æ—¥å¿—ã€‚

## ğŸ“¦ å‘å¸ƒåˆ° npm

å¦‚æœä½ æƒ³ fork å¹¶å‘å¸ƒè‡ªå·±çš„ç‰ˆæœ¬ï¼š

### 1. ä¿®æ”¹é…ç½®

```json
// package.json
{
  "name": "your-package-name",
  "version": "1.0.0",
  "author": "Your Name",
  "repository": {
    "type": "git",
    "url": "https://github.com/yourname/your-repo.git"
  }
}
```

### 2. ç¼–è¯‘é¡¹ç›®

```bash
npm run build
```

### 3. å‘å¸ƒ

```bash
# ç™»å½• npmï¼ˆé¦–æ¬¡ï¼‰
npm login

# å‘å¸ƒ
npm publish

# æˆ–å‘å¸ƒä¸º scoped package
npm publish --access public
```

### 4. åœ¨é¡¹ç›®ä¸­ä½¿ç”¨

```bash
npm install your-package-name --save-dev
```

## ğŸ‘¨â€ğŸ’» æœ¬åœ°å¼€å‘

å¦‚æœä½ æƒ³å‚ä¸å¼€å‘æˆ–è‡ªå®šä¹‰ï¼š

```bash
# å…‹éš†é¡¹ç›®
git clone https://github.com/yourname/apifox-mock-generator.git
cd apifox-mock-generator

# å®‰è£…ä¾èµ–
npm install

# ç¼–è¯‘ TypeScript
npm run build

# æœ¬åœ°æµ‹è¯•
npm link

# åœ¨å…¶ä»–é¡¹ç›®ä¸­ä½¿ç”¨æœ¬åœ°ç‰ˆæœ¬
cd your-test-project
npm link apifox-mock-generator
```

## ğŸ¤ è´¡çŒ®

æ¬¢è¿è´¡çŒ®ä»£ç ã€æŠ¥å‘Šé—®é¢˜æˆ–æå‡ºå»ºè®®ï¼

1. Fork æœ¬ä»“åº“
2. åˆ›å»ºç‰¹æ€§åˆ†æ”¯ (`git checkout -b feature/AmazingFeature`)
3. æäº¤æ›´æ”¹ (`git commit -m 'Add some AmazingFeature'`)
4. æ¨é€åˆ°åˆ†æ”¯ (`git push origin feature/AmazingFeature`)
5. åˆ›å»º Pull Request

## ğŸ“„ License

MIT License

Copyright (c) 2025

Permission is hereby granted, free of charge, to any person obtaining a copy
of this software and associated documentation files (the "Software"), to deal
in the Software without restriction, including without limitation the rights
to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
copies of the Software, and to permit persons to whom the Software is
furnished to do so, subject to the following conditions:

The above copyright notice and this permission notice shall be included in all
copies or substantial portions of the Software.

## ğŸ™ è‡´è°¢

- [Apifox](https://www.apifox.cn/) - API è®¾è®¡ã€å¼€å‘ã€æµ‹è¯•ä¸€ä½“åŒ–åä½œå¹³å°
- [Express](https://expressjs.com/) - å¿«é€Ÿçš„ Node.js Web æ¡†æ¶
- [TypeScript](https://www.typescriptlang.org/) - JavaScript çš„è¶…é›†
- [@faker-js/faker](https://fakerjs.dev/) - ç”ŸæˆçœŸå®æ„Ÿæµ‹è¯•æ•°æ®
- [Chalk](https://github.com/chalk/chalk) - ç»ˆç«¯å½©è‰²è¾“å‡º

---

å¦‚æœ‰é—®é¢˜æˆ–å»ºè®®ï¼Œæ¬¢è¿æ [Issue](https://github.com/yourname/apifox-mock-generator/issues)ï¼

â­ å¦‚æœè¿™ä¸ªé¡¹ç›®å¯¹ä½ æœ‰å¸®åŠ©ï¼Œè¯·ç»™ä¸€ä¸ª Starï¼
